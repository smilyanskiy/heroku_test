(this.webpackJsonpanyfood=this.webpackJsonpanyfood||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,r){e.exports={basketItem:"basket-item_basketItem__Ei069",counter:"basket-item_counter__3ae4-",count:"basket-item_count__1PMoO",price:"basket-item_price__hwmVy",button:"basket-item_button__wPafo",name:"basket-item_name__3ZEsE",info:"basket-item_info__8g5h5"}},,,function(e,t,r){e.exports={product:"product_product__3kfjq",content:"product_content__3SJnw",title:"product_title__3Wk4c",description:"product_description__1l8Ij",price:"product_price__2AtTn",counter:"product_counter__234_5",count:"product_count__3rWw_",buttons:"product_buttons__1d8XO"}},function(e,t,r){e.exports={reviewForm:"review-form_reviewForm__m1lEM",reviewFormItem:"review-form_reviewFormItem__ZWkl1",rateWrap:"review-form_rateWrap__xFtWF",addReviewTitle:"review-form_addReviewTitle__Cx8mn",message:"review-form_message__3m5LZ",publish:"review-form_publish__hWPD6",submitButton:"review-form_submitButton__2NfSL"}},,,,,function(e,t,r){e.exports={basket:"basket_basket__1xrL0",hr:"basket_hr__20D1o",loading:"basket_loading__2M6q_",title:"basket_title__1NOhF",button:"basket_button__2fmr9"}},,,,,,function(e,t,r){e.exports={button:"button_button__3_GL1",primary:"button_primary__17m96",secondary:"button_secondary__3v91q",small:"button_small__14mQu",block:"button_block__yiIqr"}},function(e,t,r){e.exports={review:"review_review__3NLiZ",content:"review_content__tNRaI",name:"review_name__2_t_D",comment:"review_comment__1XcdB",rate:"review_rate__3UeVh"}},function(e,t,r){e.exports={banner:"banner_banner__-R6DW",img:"banner_img__39USH",caption:"banner_caption__1Rp9z",heading:"banner_heading__3MvRh",description:"banner_description__1lbZN"}},,,,,function(e,t,r){e.exports={tabs:"tabs_tabs__3hOO2",tab:"tabs_tab__xx9z8",active:"tabs_active__3IcAw"}},function(e,t,r){e.exports={loader:"loader_loader__31U88",bounce1:"loader_bounce1__3tnG1",bounce2:"loader_bounce2__31li3","sk-bounce":"loader_sk-bounce__LRB5V"}},function(e,t,r){e.exports={star:"rate_star__2lA_N",checked:"rate_checked__aRwx4",clickable:"rate_clickable__7OGYH"}},,,,,,,function(e,t,r){e.exports={switcher:"currency-switcher_switcher__3xoG1",switcherBtn:"currency-switcher_switcherBtn__2Bs0p"}},function(e,t,r){e.exports={page:"order-error_page__2e1xU",actions:"order-error_actions__1Lvpr"}},,,,,function(e,t,r){e.exports={menu:"menu_menu__2lX_i"}},function(e,t,r){e.exports={reviews:"reviews_reviews__n9n4q"}},function(e,t,r){e.exports={enter:"reviews-animation_enter__1O-kf",enterActive:"reviews-animation_enterActive__3DPD1"}},function(e,t,r){e.exports={header:"header_header__v9FKw"}},function(e,t,r){e.exports={page:"order-success_page__zBJrG"}},,,,,,,,,,,,,,,,,function(e,t,r){},,,,function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(6),i=r(20),s=r.n(i),o=r(24),u=(r(72),r(16)),l=r(4),d=r(13),b=r(36),j=r.n(b),O=r(1),f=function(e){var t=e.tabs;return Object(O.jsx)("div",{className:j.a.tabs,children:t.map((function(e){var t=e.title,r=e.to;return Object(O.jsx)(d.b,{to:r,className:j.a.tab,activeClassName:j.a.active,children:t},t)}))})},p=r(49),v=r(50),h=r(61),m=r(59),x=r(15),_=r.n(x),g=r(27),w=r(10),y="INCREMENT",k="DECREMENT",I="REMOVE",N="ADD_REVIEW",E="LOAD_RESTAURANTS",C="LOAD_PRODUCTS",L="LOAD_REVIEWS",P="LOAD_USERS",R="MAKE_ORDER",S="_REQUEST",D="_SUCCESS",A="_FAILURE",H=r(7),M=r(2),U=r(22),F=function(e){return e.restaurants.entities},B=function(e){return e.products.entities},V=function(e){return e.reviews.entities},Z=function(e){return e.order.entities},T=function(e){return e.restaurants.loading},W=function(e){return e.restaurants.loaded},z=function(e,t){return e.products.loading[t.restaurantId]},q=function(e,t){return e.products.loaded[t.restaurantId]},G=function(e,t){return e.reviews.loading[t.restaurantId]},J=function(e,t){return e.reviews.loaded[t.restaurantId]},Y=function(e){return e.users.loading},X=function(e){return e.users.loaded},K=function(e){return e.order.loading},Q=function(e){return e.order.error},$=Object(U.a)(F,Object.values),ee=function(e,t){var r=t.id;return F(e)[r]},te=function(e,t){var r=t.id;return B(e)[r]},re=function(e,t){var r=t.id;return Z(e)[r]||0},ne=Object(U.a)($,(function(e){return e.flatMap((function(e){return e.menu.map((function(t){return{productId:t,restId:e.id}}))})).reduce((function(e,t){var r=t.productId,n=t.restId;return Object(M.a)(Object(M.a)({},e),{},Object(H.a)({},r,n))}),{})})),ae=Object(U.a)(B,Z,ne,(function(e,t,r){return Object.keys(t).filter((function(e){return t[e]>0})).map((function(t){return e[t]})).map((function(e){return{product:e,amount:t[e.id],subtotal:t[e.id]*e.price,restaurantId:r[e.id]}}))})),ce=Object(U.a)(ae,(function(e){return e.reduce((function(e,t){return e+t.subtotal}),0)})),ie=Object(U.a)((function(e,t){var r=t.id;return V(e)[r]}),(function(e){return e.users.entities}),(function(e,t){var r;return Object(M.a)(Object(M.a)({},e),{},{user:null===(r=t[e.userId])||void 0===r?void 0:r.name})})),se=Object(U.a)(V,ee,(function(e,t){var r=t.reviews.map((function(t){var r;return(null===(r=e[t])||void 0===r?void 0:r.rating)||0}));return Math.round(r.reduce((function(e,t){return e+t}),0)/r.length)})),oe=Object(U.a)(Z,(function(e){return Object.entries(e).map((function(e){var t=Object(u.a)(e,2);return{id:t[0],amount:t[1]}}))})),ue=function(e){return{type:y,id:e}},le=function(e){return{type:k,id:e}},de=function(e){return{type:L,CallAPI:"/api/reviews?id=".concat(e),restaurantId:e}},be=r(37),je=r.n(be);var Oe,fe=function(){return Object(O.jsxs)("div",{className:je.a.loader,children:[Object(O.jsx)("div",{className:je.a.bounce1}),Object(O.jsx)("div",{className:je.a.bounce2})]})},pe=r(17),ve=r.n(pe),he=r(26),me=r(25),xe=r.n(me),_e=r(29),ge=r.n(_e);function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ke(e,t){var r=e.title,a=e.titleId,c=ye(e,["title","titleId"]);return n.createElement("svg",we({fill:"none",height:12,viewBox:"0 0 18 17",width:14,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,Oe||(Oe=n.createElement("path",{d:"m.92445 10.2v-3.21h6.12v-6.390001h3.90005v6.390001h6.12v3.21h-6.12v6.48h-3.90005v-6.48z",fill:"#fff"})))}var Ie,Ne=n.forwardRef(ke);r.p;function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Le(e,t){var r=e.title,a=e.titleId,c=Ce(e,["title","titleId"]);return n.createElement("svg",Ee({fill:"none",height:4,viewBox:"0 0 10 4",width:10,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,Ie||(Ie=n.createElement("path",{d:"m.764347 3.59v-3.39h8.670003v3.39z",fill:"#fff"})))}var Pe,Re=n.forwardRef(Le);r.p;function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ae(e,t){var r=e.title,a=e.titleId,c=De(e,["title","titleId"]);return n.createElement("svg",Se({xmlns:"http://www.w3.org/2000/svg",width:"10px",height:"10px",viewBox:"0 0 348.333 348.334",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,Pe||(Pe=n.createElement("path",{d:"M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85 c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563 c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85 l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554 L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z",fill:"#fff"})))}var He=n.forwardRef(Ae),Me=(r.p,{plus:Ne,minus:Re,delete:He}),Ue=function(e){var t,r=e.icon,n=e.primary,a=void 0!==n&&n,c=e.secondary,i=void 0!==c&&c,s=e.small,o=void 0!==s&&s,u=e.block,l=void 0!==u&&u,d=e.children,b=Object(he.a)(e,["icon","primary","secondary","small","block","children"]),j=Me[r];return Object(O.jsxs)("button",Object(M.a)(Object(M.a)({className:xe()(ge.a.button,(t={},Object(H.a)(t,ge.a.primary,a),Object(H.a)(t,ge.a.secondary,i),Object(H.a)(t,ge.a.small,o),Object(H.a)(t,ge.a.block,l),t))},b),{},{children:[j&&Object(O.jsx)(j,{}),d]}))},Fe=Object(n.createContext)(),Be={USD:{label:"USD",rate:1,sign:"$"},EUR:{label:"EUR",rate:1/1.2,sign:"\u20ac"},RUB:{label:"RUB",rate:77,sign:"\u20bd"},UAH:{label:"UAH",rate:28,sign:"\u20b4"}},Ve=Object.entries(Be).map((function(e){var t=Object(u.a)(e,2);return{key:t[0],label:t[1].label}}));function Ze(e){var t=e.children,r=Object(n.useState)("USD"),a=Object(u.a)(r,2),c=a[0],i=a[1],s=Be[c],o=s.rate,l=s.sign;return Object(O.jsx)(Fe.Provider,{value:{currencies:Ve,currency:c,setCurrency:i,m:function(e){return"".concat((o*e).toFixed(2)," ").concat(l)}},children:t})}function Te(e){var t=e.value;return(0,Object(n.useContext)(Fe).m)(t)}var We=Fe,ze=Object(c.c)((function(e,t){return{amount:re(e,t),product:te(e,t)}}),(function(e,t){return{increment:function(){return e(ue(t.id))},decrement:function(){return e(le(t.id))}}}))((function(e){var t=e.product,r=e.amount,n=e.increment,a=e.decrement;return t?Object(O.jsx)("div",{className:ve.a.product,"data-id":"product",children:Object(O.jsxs)("div",{className:ve.a.content,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:ve.a.title,children:t.name}),Object(O.jsx)("p",{className:ve.a.description,children:t.ingredients.join(", ")}),Object(O.jsx)("div",{className:ve.a.price,children:Object(O.jsx)(Te,{value:t.price})})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:ve.a.counter,children:[Object(O.jsx)("div",{className:ve.a.count,"data-id":"product-amount",children:r}),Object(O.jsxs)("div",{className:ve.a.buttons,children:[Object(O.jsx)(Ue,{onClick:a,icon:"minus"}),Object(O.jsx)(Ue,{onClick:n,icon:"plus"})]})]})})]})}):null})),qe=r(82),Ge=r(80),Je=(r(76),r(23)),Ye=r.n(Je),Xe=r(14),Ke=r.n(Xe);function Qe(){return Object(n.useContext)(We).m}var $e=Object(c.c)(null,(function(e,t){return{increment:function(){return e(ue(t.product.id))},decrement:function(){return e(le(t.product.id))},remove:function(){return e((r=t.product.id,{type:I,id:r}));var r}}}))((function(e){var t=e.product,r=e.amount,n=e.subtotal,a=e.restaurantId,c=e.increment,i=e.decrement,s=e.remove,o=Qe();return Object(O.jsxs)("div",{className:Ke.a.basketItem,children:[Object(O.jsx)("div",{className:Ke.a.name,children:Object(O.jsx)(d.a,{to:"/restaurants/".concat(a,"/menu"),children:t.name})}),Object(O.jsxs)("div",{className:Ke.a.info,children:[Object(O.jsxs)("div",{className:Ke.a.counter,children:[Object(O.jsx)(Ue,{onClick:i,icon:"minus",secondary:!0,small:!0}),Object(O.jsx)("span",{className:Ke.a.count,children:r}),Object(O.jsx)(Ue,{onClick:c,icon:"plus",secondary:!0,small:!0})]}),Object(O.jsx)("p",{className:xe()(Ke.a.count,Ke.a.price),children:o(n)}),Object(O.jsx)(Ue,{onClick:s,icon:"delete",secondary:!0,small:!0})]})]})})),et=Object(n.createContext)({name:"Default user",setName:function(){}}),tt=et.Provider,rt=et.Consumer;var nt,at=Object(c.c)((function(e){return{total:ce(e),orderProducts:ae(e),loading:K(e)}}),{makeOrder:function(){return function(){var e=Object(g.a)(_.a.mark((function e(t,r){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),a=oe(n),e.prev=2,e.next=5,t({type:R,CallAPI:"/api/order",postData:a});case 5:t(Object(w.d)("/order-success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t(Object(w.d)("/order-error"));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r){return e.apply(this,arguments)}}()}})((function(e){var t=e.title,r=void 0===t?"Basket":t,n=e.total,a=e.orderProducts,c=e.makeOrder,i=e.loading,s=Qe();return n?Object(O.jsxs)("div",{className:Ye.a.basket,children:[i&&Object(O.jsx)("div",{className:Ye.a.loading,children:Object(O.jsx)(fe,{})}),Object(O.jsx)("h4",{className:Ye.a.title,children:Object(O.jsx)(rt,{children:function(e){var t=e.name;return"".concat(t,"'s ").concat(r)}})}),Object(O.jsx)(qe.a,{children:a.map((function(e){var t=e.product,r=e.amount,n=e.subtotal,a=e.restaurantId;return Object(O.jsx)(Ge.a,{timeout:300,classNames:"basket",children:Object(O.jsx)($e,{product:t,amount:r,subtotal:n,restaurantId:a})},t.id)}))}),Object(O.jsx)("hr",{className:Ye.a.hr}),Object(O.jsxs)("div",{className:Ke.a.basketItem,children:[Object(O.jsx)("div",{className:Ke.a.name,children:Object(O.jsx)("p",{children:"Total"})}),Object(O.jsx)("div",{className:Ke.a.info,children:Object(O.jsx)("p",{children:s(n)})})]}),Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{path:"/checkout",children:Object(O.jsx)(Ue,{primary:!0,block:!0,onClick:c,children:"make order"})}),Object(O.jsx)(l.b,{children:Object(O.jsx)(d.a,{to:"/checkout",children:Object(O.jsx)(Ue,{primary:!0,block:!0,children:"go to checkout"})})})]})]}):Object(O.jsx)("div",{className:Ye.a.basket,children:Object(O.jsx)("h4",{className:Ye.a.title,children:"Select a meal from the list"})})})),ct=r(51),it=r.n(ct),st=function(e){Object(h.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(p.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={error:null},e.loadProductsIfNeeded=function(){var t=e.props,r=t.loadProducts,n=t.restaurantId,a=t.loading,c=t.loaded;a||c||r(n)},e}return Object(v.a)(r,[{key:"componentDidMount",value:function(){this.loadProductsIfNeeded()}},{key:"componentDidUpdate",value:function(e,t){e.restaurantId!==this.props.restaurantId&&this.loadProductsIfNeeded()}},{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){var e=this.props,t=e.menu;return e.loading?Object(O.jsx)(fe,{}):this.state.error?Object(O.jsx)("p",{children:"\u0421\u0435\u0439\u0447\u0430\u0441 \u043c\u0435\u043d\u044e \u044d\u0442\u043e\u0433\u043e \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e :("}):Object(O.jsxs)("div",{className:it.a.menu,children:[Object(O.jsx)("div",{children:t.map((function(e){return Object(O.jsx)(ze,{id:e},e)}))}),Object(O.jsx)("div",{children:Object(O.jsx)(at,{})})]})}}]),r}(a.a.Component),ot={loadProducts:function(e){return{type:C,CallAPI:"/api/products?id=".concat(e),restaurantId:e}}},ut=Object(c.c)((function(e,t){return{loading:z(e,t),loaded:q(e,t)}}),ot)(st),lt=r(60);function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jt(e,t){var r=e.title,a=e.titleId,c=bt(e,["title","titleId"]);return n.createElement("svg",dt({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,nt||(nt=n.createElement("path",{d:"M8 12.8395L3.04225 16L4.35681 10.0741L0 6.08395L5.74648 5.57037L8 0L10.2535 5.57037L16 6.08395L11.6432 10.0741L12.9577 16L8 12.8395Z"})))}var Ot=n.forwardRef(jt),ft=(r.p,r(38)),pt=r.n(ft),vt=function(e){var t=e.value,r=e.onChange;return Object(O.jsx)("div",{children:Object(lt.a)(Array(5)).map((function(e,n){var a;return Object(O.jsx)(Ot,{"data-id":n<=t-1?"full-star":"empty-star",className:xe()(pt.a.star,(a={},Object(H.a)(a,pt.a.checked,n<=t-1),Object(H.a)(a,pt.a.clickable,!!r),a)),onClick:r?function(){return r(n+1)}:void 0},n)}))})},ht=r(30),mt=r.n(ht),xt=function(e){var t=e.user,r=e.text,n=e.rating;return Object(O.jsx)("div",{className:mt.a.review,"data-id":"review",children:Object(O.jsxs)("div",{className:mt.a.content,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:mt.a.name,"data-id":"review-user",children:t}),Object(O.jsx)("p",{className:mt.a.comment,"data-id":"review-text",children:r})]}),Object(O.jsx)("div",{className:mt.a.rate,children:Object(O.jsx)(vt,{value:n})})]})})};xt.defaultProps={user:"Anonymous"};var _t=ie,gt=Object(c.c)(_t)(xt);var wt,yt,kt,It,Nt,Et,Ct,Lt,Pt,Rt=r(18),St=r.n(Rt),Dt={name:"",text:"",rating:3},At=Object(c.c)(null,(function(e,t){return{onSubmit:function(r){return e(function(e,t){return{type:N,review:e,restaurantId:t,generateId:["reviewId","userId"]}}(r,t.restaurantId))}}}))((function(e){var t=e.onSubmit,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),r=Object(u.a)(t,2),a=r[0],c=r[1],i=function(e,t){return c(Object(M.a)(Object(M.a)({},a),{},Object(H.a)({},e,t)))},s=function(e){return function(t){return i(e,t.target?t.target.value:t)}};return{values:a,reset:function(){return c(e)},handlers:Object.keys(a).reduce((function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(H.a)({},t,{value:a[t],onChange:s(t)}))}),{})}}(Dt),a=r.values,c=r.handlers,i=r.reset;return Object(O.jsxs)("div",{className:St.a.reviewForm,children:[Object(O.jsx)("h4",{className:St.a.addReviewTitle,children:"Leave your review"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),i()},children:[Object(O.jsx)("div",{className:St.a.reviewFormItem,children:Object(O.jsx)("input",Object(M.a)({placeholder:"Your name",className:St.a.message},c.name))}),Object(O.jsx)("div",{className:St.a.reviewFormItem,children:Object(O.jsx)("textarea",Object(M.a)({placeholder:"Your review",className:St.a.message},c.text))}),Object(O.jsxs)("div",{className:St.a.rateWrap,children:[Object(O.jsx)("span",{children:"Rating: "}),Object(O.jsx)("span",{children:Object(O.jsx)(vt,Object(M.a)({},c.rating))})]}),Object(O.jsx)("div",{className:St.a.publish,children:Object(O.jsx)(Ue,{primary:!0,block:!0,children:"PUBLISH REVIEW"})})]})]})})),Ht=r(52),Mt=r.n(Ht),Ut=r(53),Ft=r.n(Ut),Bt={loadReviews:function(e){return function(){var t=Object(g.a)(_.a.mark((function t(r,n){var a,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n(),c=G(a,{restaurantId:e}),i=J(a,{restaurantId:e}),!c&&!i){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,r(de(e));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),r(Object(w.e)("/error"));case 13:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,r){return t.apply(this,arguments)}}()},loadUsers:function(){return function(){var e=Object(g.a)(_.a.mark((function e(t,r){var n,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),a=Y(n),c=X(n),!a&&!c){e.next=5;break}return e.abrupt("return");case 5:t({type:P,CallAPI:"/api/users"});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}},Vt=Object(c.c)((function(e,t){return{reviewsLoaded:J(e,t),usersLoaded:X(e)}}),Bt)((function(e){var t=e.reviews,r=e.restaurantId,a=e.loadReviews,c=e.loadUsers,i=e.usersLoaded,s=e.reviewsLoaded;return Object(n.useEffect)((function(){c(),a(r)}),[c,a,r]),i&&s?Object(O.jsxs)("div",{className:Mt.a.reviews,children:[Object(O.jsx)(qe.a,{children:t.map((function(e){return Object(O.jsx)(Ge.a,{timeout:500,classNames:Ft.a,children:Object(O.jsx)(gt,{id:e})},e)}))}),Object(O.jsx)(At,{restaurantId:r})]}):Object(O.jsx)(fe,{})})),Zt=r(31),Tt=r.n(Zt),Wt=r.p+"static/media/banner.40e0021b.jpg",zt=function(e){var t=e.heading,r=e.description,n=e.children;return Object(O.jsxs)("div",{className:Tt.a.banner,children:[Object(O.jsx)("img",{src:Wt,className:Tt.a.img,alt:"banner"}),Object(O.jsxs)("div",{className:Tt.a.caption,children:[Object(O.jsx)("h2",{className:Tt.a.heading,children:t}),Object(O.jsx)("p",{className:Tt.a.description,children:r}),Object(O.jsx)("div",{children:n})]})]})},qt=Object(c.c)((function(e,t){return{restaurant:ee(e,t),averageRating:se(e,t)}}))((function(e){var t=e.restaurant,r=e.averageRating,n=(e.match,t.id),a=t.name,c=t.menu,i=t.reviews,s=[{title:"Menu",to:"/restaurants/".concat(n,"/menu")},{title:"Reviews",to:"/restaurants/".concat(n,"/reviews")}];return Object(O.jsxs)("div",{children:[Object(O.jsx)(zt,{heading:a,children:!!r&&Object(O.jsx)(vt,{value:r})}),Object(O.jsx)(f,{tabs:s}),Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{path:"/restaurants/:restId/menu",children:Object(O.jsx)(ut,{menu:c,restaurantId:n})}),Object(O.jsx)(l.b,{path:"/restaurants/:restId/reviews",children:Object(O.jsx)(Vt,{reviews:i,restaurantId:n})}),Object(O.jsx)(l.a,{to:"/restaurants/:restId/menu"})]})]})})),Gt=Object(c.c)((function(e){return{restaurants:$(e),loading:T(e),loaded:W(e)}}),{loadRestaurants:function(){return{type:E,CallAPI:"/api/restaurants"}}})((function(e){var t=e.restaurants,r=e.loading,a=e.loaded,c=e.loadRestaurants;Object(n.useEffect)((function(){r||a||c()}),[c,r,a]);var i=Object(l.g)("/restaurants/:restId/:tabId"),s=(null===i||void 0===i?void 0:i.params.tabId)||"menu";if(r)return Object(O.jsx)(fe,{});if(!a)return"No data :(";var o=t.map((function(e){var t=e.id;return{title:e.name,to:"/restaurants/".concat(t,"/").concat(s)}}));return Object(O.jsxs)("div",{children:[Object(O.jsx)(f,{tabs:o}),Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{path:"/restaurants/:restId",children:function(e){var t=e.match;return Object(O.jsx)(qt,{id:t.params.restId})}}),Object(O.jsx)(l.a,{to:"/restaurants/".concat(t[0].id)}),";"]})]})}));function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xt(e,t){var r=e.title,a=e.titleId,c=Yt(e,["title","titleId"]);return n.createElement("svg",Jt({width:115,height:18,viewBox:"0 0 115 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,wt||(wt=n.createElement("path",{d:"M60.2043 3.47599V0.761993H49.4633V17H52.4763V10.123H114.261V7.52399H52.4763V3.47599H60.2043Z",fill:"white"})),yt||(yt=n.createElement("path",{d:"M97.3408 0V16.238H103.482C108.266 16.238 111.095 13.455 111.095 8.257C111.095 2.438 107.507 0 103.666 0H97.3408ZM100.377 2.737H102.884C105.897 2.737 107.875 4.255 107.875 8.257C107.875 12.834 105.782 13.501 102.263 13.501H100.377V2.737Z",fill:"white"})),kt||(kt=n.createElement("path",{d:"M77.9976 8.556C77.9976 13.11 80.9416 17.066 85.7256 17.066C91.5676 17.066 93.5686 12.121 93.5686 8.441C93.5686 4.048 90.7396 0 85.7946 0C81.1026 0 77.9976 3.795 77.9976 8.556ZM81.1256 8.441C81.1256 4.876 83.1036 2.783 85.7716 2.783C88.9916 2.783 90.5096 5.796 90.5096 8.694C90.5096 12.374 88.2326 14.237 85.8176 14.237C82.3446 14.237 81.1256 10.971 81.1256 8.441Z",fill:"#FFD25E"})),It||(It=n.createElement("path",{d:"M61.6893 8.556C61.6893 13.11 64.6333 17.066 69.4173 17.066C75.2593 17.066 77.2603 12.121 77.2603 8.441C77.2603 4.048 74.4313 0 69.4863 0C64.7943 0 61.6893 3.795 61.6893 8.556ZM64.8173 8.441C64.8173 4.876 66.7953 2.783 69.4633 2.783C72.6833 2.783 74.2013 5.796 74.2013 8.694C74.2013 12.374 71.9243 14.237 69.5093 14.237C66.0363 14.237 64.8173 10.971 64.8173 8.441Z",fill:"#FFD25E"})),Nt||(Nt=n.createElement("path",{d:"M14.49 17L8.947 0.761993H5.497L0 17H3.266L4.209 13.826H10.304L11.247 17H14.49ZM9.499 11.158H5.014L7.268 3.68299L9.499 11.158Z",fill:"white"})),Et||(Et=n.createElement("path",{d:"M30.2451 17V0.761993H27.2551C27.2781 1.12999 27.6231 12.216 27.6231 12.216L20.4241 0.761993H17.6871V17H20.6541C20.6541 16.701 20.4701 5.61499 20.4701 5.61499L27.5771 17H30.2451Z",fill:"white"})),Ct||(Ct=n.createElement("path",{d:"M46.007 0.761993H42.603L39.061 7.47799L35.542 0.761993H32.092L37.52 10.583V17H40.533V10.583L46.007 0.761993Z",fill:"white"})),Lt||(Lt=n.createElement("ellipse",{cx:69.5,cy:8.5,rx:5.5,ry:6.5,fill:"#FFD25D"})),Pt||(Pt=n.createElement("ellipse",{cx:85.5,cy:8.5,rx:5.5,ry:6.5,fill:"#FFD25D"})))}var Kt=n.forwardRef(Xt),Qt=(r.p,r(54)),$t=r.n(Qt),er=r(45),tr=r.n(er),rr=function(){var e=Object(n.useContext)(We),t=e.currency,r=e.currencies,a=e.setCurrency,c=function(e){return a(e.target.value)};return Object(O.jsx)("fieldset",{className:tr.a.switcher,children:r.map((function(e){var r=e.key,n=e.label;return Object(O.jsxs)("label",{className:tr.a.switcherBtn,children:[Object(O.jsx)("input",{type:"radio",value:r,checked:r===t,onChange:c}),Object(O.jsx)("span",{children:n})]},r)}))})},nr=function(){return Object(O.jsxs)("header",{className:$t.a.header,children:[Object(O.jsx)(d.a,{to:"/restaurants",children:Object(O.jsx)(Kt,{})}),Object(O.jsx)(rr,{})]})},ar=r(55),cr=r.n(ar),ir=function(){return Object(O.jsx)("h1",{className:cr.a.page,children:"Congratulations! Your order has been successfully created!"})},sr=r(46),or=r.n(sr),ur=Object(c.c)((function(e){return{error:Q(e)}}))((function(e){var t=e.error,r=Qe(),n=null===t||void 0===t?void 0:t.replace(/\$(\d+)/gi,(function(e,t){return r(t)}));return Object(O.jsxs)("h1",{className:or.a.page,children:[Object(O.jsx)("p",{children:n}),Object(O.jsx)("div",{className:or.a.actions,children:Object(O.jsx)(d.a,{to:"/checkout",children:Object(O.jsx)(Ue,{primary:!0,block:!0,children:"back to checkout"})})})]})})),lr=function(){var e=Object(n.useState)("Ivan"),t=Object(u.a)(e,2),r=t[0],a=t[1];return Object(O.jsx)("div",{children:Object(O.jsxs)(tt,{value:{name:r,setName:a},children:[Object(O.jsx)(nr,{}),Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.a,{exact:!0,from:"/",to:"/restaurants"}),Object(O.jsx)(l.b,{path:"/checkout",component:at}),Object(O.jsx)(l.b,{path:"/restaurants",component:Gt}),Object(O.jsx)(l.b,{path:"/order-success",component:ir}),Object(O.jsx)(l.b,{path:"/order-error",component:ur}),Object(O.jsx)(l.b,{path:"/error",component:function(){return Object(O.jsx)("h1",{children:"Error Page!"})}}),Object(O.jsx)(l.b,{path:"/",component:function(){return Object(O.jsx)("p",{children:"404 - not found :("})}})]})]})})},dr=r(19),br=r(56),jr=r(57),Or=r(47),fr=r(81),pr=function(e){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},vr={loading:!1,loaded:!1,error:null,entities:{}},hr=r(21),mr=function(e){return e.reduce((function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(H.a)({},t.id,t))}),{})},xr={entities:{},loading:!1,loaded:!1,error:null},_r={entities:{},loading:{},loaded:{},error:null},gr={entities:{},loading:{},loaded:{},error:null},wr=Object(hr.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.review,a=t.reviewId,c=t.userId,i=t.restaurantId,s=t.data,o=t.error;switch(r){case L+S:e.error=null,e.loading[i]=!0;break;case L+D:e.loading[i]=!1,e.loaded[i]=!0,e.entities=Object(M.a)(Object(M.a)({},e.entities),mr(s));break;case L+A:e.loading[i]=!1,e.loaded[i]=!1,e.error=o;break;case N:var u=n.text,l=n.rating;e.entities[a]={id:a,userId:c,text:u,rating:l};break;default:return e}})),yr={entities:{},loading:!1,loaded:!1,error:null},kr=Object(hr.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.review,a=t.userId,c=t.data,i=t.error;switch(r){case P+S:e.error=null,e.loading=!0;break;case P+D:e.loading=!1,e.loaded=!0,e.entities=Object(M.a)(Object(M.a)({},e.entities),mr(c));break;case P+A:e.loading=!1,e.loaded=!1,e.error=i;break;case N:var s=n.name;e.entities[a]={id:a,name:s};break;default:return e}})),Ir=r(11),Nr=Object(Ir.a)(),Er=Object(dr.combineReducers)({router:Object(o.b)(Nr),order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.id,a=t.error,c=e.entities;switch(r){case y:return Object(M.a)(Object(M.a)({},e),{},{entities:Object(M.a)(Object(M.a)({},c),{},Object(H.a)({},n,(c[n]||0)+1))});case k:return Object(M.a)(Object(M.a)({},e),{},{entities:Object(M.a)(Object(M.a)({},c),{},Object(H.a)({},n,c[n]>0?(c[n]||0)-1:0))});case I:return Object(M.a)(Object(M.a)({},e),{},{entities:Object(M.a)(Object(M.a)({},c),{},Object(H.a)({},n,0))});case R+S:return Object(M.a)(Object(M.a)({},e),{},{loading:!0,error:null});case R+D:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,loaded:!0,entities:{}});case R+A:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,loaded:!1,error:a});default:return e}},restaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.restaurantId,a=t.reviewId,c=t.data,i=t.error;switch(r){case E+S:return Object(M.a)(Object(M.a)({},e),{},{loading:!0,error:null});case E+D:return Object(M.a)(Object(M.a)({},e),{},{entities:mr(c),loading:!1,loaded:!0});case E+A:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,loaded:!1,error:i});case N:return Object(hr.a)(e,(function(e){e.entities[n].reviews.push(a)}));default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r,t=arguments.length>1?arguments[1]:void 0;return Object(hr.a)(e,(function(e){var r=t.type,n=t.restaurantId,a=t.data,c=t.error;switch(r){case C+S:e.loading[n]=!0;break;case C+D:e.loading[n]=!1,e.loaded[n]=!0,e.error=null,e.entities=Object(M.a)(Object(M.a)({},e.entities),mr(a));break;case C+A:e.loading[n]=!1,e.loaded[n]=!1,e.error=c;break;default:return}}))},reviews:wr,users:kr}),Cr=Object(dr.applyMiddleware)(br.a,Object(Or.a)(Nr),(function(e){return function(e){return function(){var t=Object(g.a)(_.a.mark((function t(r){var n,a,c,i,s,o,u;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.CallAPI){t.next=2;break}return t.abrupt("return",e(r));case 2:return n=r.CallAPI,a=r.type,c=r.postData,i=Object(he.a)(r,["CallAPI","type","postData"]),e(Object(M.a)(Object(M.a)({},i),{},{type:a+S})),t.prev=4,s=c?pr(c):{},t.next=8,fetch(n,s);case 8:return o=t.sent,t.next=11,o.json();case 11:if(u=t.sent,o.ok){t.next=14;break}throw u;case 14:e(Object(M.a)(Object(M.a)({},i),{},{type:a+D,data:u})),t.next=21;break;case 17:throw t.prev=17,t.t0=t.catch(4),console.log(t.t0),e(Object(M.a)(Object(M.a)({},i),{},{type:a+A,error:t.t0}));case 21:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}()}}),(function(e){return function(e){return function(t){if(!t.generateId)return e(t);var r=t.generateId,n=Object(he.a)(t,["generateId"]);e(Object(M.a)(Object(M.a)({},n),r.reduce((function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(H.a)({},t,Object(fr.a)()))}),{})))}}}),(function(e){return function(e){return function(t){e(t)}}})),Lr=Object(dr.createStore)(Er,Object(jr.composeWithDevTools)(Cr));window.store=Lr,s.a.render(Object(O.jsx)(c.a,{store:Lr,children:Object(O.jsx)(o.a,{history:Nr,children:Object(O.jsx)(Ze,{children:Object(O.jsx)(lr,{})})})}),document.getElementById("root"))}],[[78,1,2]]]);
//# sourceMappingURL=main.f8756cb3.chunk.js.map