{"version":3,"sources":["components/basket/basket-item/basket-item.module.css","components/product/product.module.css","components/reviews/review-form/review-form.module.css","components/basket/basket.module.css","components/button/button.module.css","components/reviews/review/review.module.css","components/banner/banner.module.css","components/tabs/tabs.module.css","components/loader/loader.module.css","components/rate/rate.module.css","components/currency-switcher/currency-switcher.module.css","components/order-error/order-error.module.css","components/menu/menu.module.css","components/reviews/reviews.module.css","components/reviews/reviews-animation.module.css","components/header/header.module.css","components/order-success/order-success.module.css","components/tabs/tabs.js","redux/constants.js","redux/selectors.js","redux/actions.js","components/loader/loader.js","icons/plus.svg","icons/minus.svg","icons/delete.svg","components/button/button.js","contexts/money.js","components/product/product.js","hooks/use-money.js","components/basket/basket-item/basket-item.js","contexts/user-context.js","components/basket/basket.js","icons/star.svg","components/menu/menu.js","components/rate/rate.js","components/reviews/review/review.js","icons/logo.svg","components/reviews/review-form/review-form.js","hooks/use-form.js","components/reviews/reviews.js","components/banner/banner.jpg","components/banner/banner.js","components/restaurant/restaurant.js","components/restaurants/restaurants.js","components/currency-switcher/currency-switcher.js","components/header/header.js","components/order-success/order-success.js","components/order-error/order-error.js","components/app/app.js","redux/middleware/api.js","redux/reducer/order.js","redux/utils.js","redux/reducer/restaurants.js","redux/reducer/products.js","redux/reducer/reviews.js","redux/reducer/users.js","history.js","redux/reducer/index.js","redux/store.js","redux/middleware/generateId.js","redux/middleware/logger.js","index.js"],"names":["module","exports","Tabs","tabs","className","styles","map","title","to","tab","activeClassName","active","INCREMENT","DECREMENT","REMOVE","ADD_REVIEW","LOAD_RESTAURANTS","LOAD_PRODUCTS","LOAD_REVIEWS","LOAD_USERS","MAKE_ORDER","REQUEST","SUCCESS","FAILURE","restaurantsSelector","state","restaurants","entities","productsSelector","products","reviewsSelector","reviews","orderSelector","order","restaurantsLoadingSelector","loading","restaurantsLoadedSelector","loaded","productsLoadingSelector","props","restaurantId","productsLoadedSelector","reviewsLoadingSelector","reviewsLoadedSelector","usersLoadingSelector","users","usersLoadedSelector","orderLoadingSelector","orderErrorSelector","error","restaurantsListSelector","createSelector","Object","values","restaurantSelector","id","productSelector","amountSelector","restaurantsIdsByProductsSelector","flatMap","rest","menu","productId","restId","reduce","acc","orderProductsSelector","restaurantsIds","keys","filter","product","amount","subtotal","price","totalSelector","orderProducts","reviewWitUserSelector","review","user","userId","name","averageRatingSelector","restaurant","ratings","rating","Math","round","length","orderDataSelector","entries","increment","type","decrement","_loadReviews","CallAPI","Loader","_path","loader","bounce1","bounce2","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPlus","_ref","svgRef","titleId","fill","height","viewBox","width","xmlns","ref","d","ForwardRef","SvgMinus","SvgDelete","icons","plus","PlusIcon","minus","MinusIcon","delete","DeleteIcon","Button","icon","primary","secondary","small","block","children","Icon","cn","button","moneyContext","createContext","currenciesMap","USD","label","rate","sign","EUR","RUB","UAH","currencies","MoneyProvider","useState","currency","setCurrency","Provider","value","m","toFixed","Money","useContext","connect","dispatch","data-id","content","description","ingredients","join","counter","count","buttons","onClick","useMoney","ownProps","remove","basketItem","info","userContext","setName","UserProvider","UserConsumer","Consumer","total","makeOrder","getState","a","postData","push","basket","TransitionGroup","CSSTransition","timeout","classNames","hr","itemStyles","path","Menu","loadProductsIfNeeded","loadProducts","prevProps","prevState","setState","React","Component","mapDispatchToProps","SvgStar","Rate","onChange","Array","_","star","checked","clickable","undefined","Review","text","comment","defaultProps","mapStateToProps","_path2","_path3","_path4","_path5","_path6","_path7","_ellipse","_ellipse2","INITIAL_VALUES","onSubmit","generateId","addReview","initialValues","setValues","setValue","ev","reset","handlers","useForm","reviewForm","addReviewTitle","preventDefault","reviewFormItem","placeholder","message","rateWrap","publish","loadReviews","replace","loadUsers","reviewsLoaded","usersLoaded","useEffect","animationStyles","Banner","heading","banner","src","img","alt","caption","averageRating","match","loadRestaurants","useRouteMatch","tabId","params","SvgLogo","cx","cy","rx","ry","CurrencySwitcher","e","switcher","switcherBtn","Header","header","OrderSuccess","page","errorText","t","actions","App","exact","from","component","Basket","Restaurants","OrderError","createPostParams","data","method","headers","body","JSON","stringify","initialState","arrToMap","arr","item","produce","draft","action","reviewId","history","createBrowserHistory","combineReducers","router","connectRouter","enhancer","applyMiddleware","thunk","routerMiddleware","store","next","fetch","res","json","ok","console","log","uuid","createStore","reducer","composeWithDevTools","window","ReactDOM","render","document","getElementById"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,WAAa,gCAAgC,QAAU,6BAA6B,MAAQ,2BAA2B,MAAQ,2BAA2B,OAAS,4BAA4B,KAAO,0BAA0B,KAAO,4B,kBCAzPD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,QAAU,yBAAyB,MAAQ,uBAAuB,YAAc,6BAA6B,MAAQ,uBAAuB,QAAU,yBAAyB,MAAQ,uBAAuB,QAAU,2B,gBCA7QD,EAAOC,QAAU,CAAC,WAAa,gCAAgC,eAAiB,oCAAoC,SAAW,8BAA8B,eAAiB,oCAAoC,QAAU,6BAA6B,QAAU,6BAA6B,aAAe,oC,oBCA/SD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,GAAK,mBAAmB,QAAU,wBAAwB,MAAQ,sBAAsB,OAAS,yB,qBCAnJD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,UAAY,0BAA0B,MAAQ,sBAAsB,MAAQ,wB,gBCAhKD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,KAAO,qBAAqB,QAAU,wBAAwB,KAAO,uB,gBCAzJD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,IAAM,oBAAoB,QAAU,wBAAwB,QAAU,wBAAwB,YAAc,8B,oBCA9JD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,IAAM,kBAAkB,OAAS,uB,gBCA7ED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,QAAU,wBAAwB,YAAY,4B,gBCAlID,EAAOC,QAAU,CAAC,KAAO,mBAAmB,QAAU,sBAAsB,UAAY,0B,sBCAxFD,EAAOC,QAAU,CAAC,SAAW,oCAAoC,YAAc,yC,gBCA/ED,EAAOC,QAAU,CAAC,KAAO,0BAA0B,QAAU,+B,oBCA7DD,EAAOC,QAAU,CAAC,KAAO,qB,gBCAzBD,EAAOC,QAAU,CAAC,QAAU,2B,gBCA5BD,EAAOC,QAAU,CAAC,MAAQ,iCAAiC,YAAc,yC,gBCAzED,EAAOC,QAAU,CAAC,OAAS,yB,gBCA3BD,EAAOC,QAAU,CAAC,KAAO,8B,uMC6BVC,EAxBF,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACX,qBAAKC,UAAWC,IAAOF,KAAvB,SACGA,EAAKG,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACR,cAAC,IAAD,CACEA,GAAIA,EAEJJ,UAAWC,IAAOI,IAClBC,gBAAiBL,IAAOM,OAJ1B,SAMGJ,GAJIA,S,iECXAK,EAAY,YACZC,EAAY,YACZC,EAAS,SACTC,EAAa,aAEbC,EAAmB,mBACnBC,EAAgB,gBAChBC,EAAe,eACfC,EAAa,aACbC,EAAa,aAEbC,EAAU,WACVC,EAAU,WACVC,EAAU,W,sBCXjBC,EAAsB,SAACC,GAAD,OAAWA,EAAMC,YAAYC,UACnDC,EAAmB,SAACH,GAAD,OAAWA,EAAMI,SAASF,UAC7CG,EAAkB,SAACL,GAAD,OAAWA,EAAMM,QAAQJ,UAE3CK,EAAgB,SAACP,GAAD,OAAWA,EAAMQ,MAAMN,UAEhCO,EAA6B,SAACT,GAAD,OAAWA,EAAMC,YAAYS,SAC1DC,EAA4B,SAACX,GAAD,OAAWA,EAAMC,YAAYW,QAEzDC,EAA0B,SAACb,EAAOc,GAAR,OACrCd,EAAMI,SAASM,QAAQI,EAAMC,eAClBC,EAAyB,SAAChB,EAAOc,GAAR,OACpCd,EAAMI,SAASQ,OAAOE,EAAMC,eAEjBE,EAAyB,SAACjB,EAAOc,GAAR,OACpCd,EAAMM,QAAQI,QAAQI,EAAMC,eACjBG,EAAwB,SAAClB,EAAOc,GAAR,OACnCd,EAAMM,QAAQM,OAAOE,EAAMC,eAEhBI,EAAuB,SAACnB,GAAD,OAAWA,EAAMoB,MAAMV,SAC9CW,EAAsB,SAACrB,GAAD,OAAWA,EAAMoB,MAAMR,QAE7CU,EAAuB,SAACtB,GAAD,OAAWA,EAAMQ,MAAME,SAC9Ca,EAAqB,SAACvB,GAAD,OAAWA,EAAMQ,MAAMgB,OAE5CC,EAA0BC,YACrC3B,EACA4B,OAAOC,QAGIC,GAAqB,SAAC7B,EAAD,OAAU8B,EAAV,EAAUA,GAAV,OAChC/B,EAAoBC,GAAO8B,IAChBC,GAAkB,SAAC/B,EAAD,OAAU8B,EAAV,EAAUA,GAAV,OAAmB3B,EAAiBH,GAAO8B,IAE7DE,GAAiB,SAAChC,EAAD,OAAU8B,EAAV,EAAUA,GAAV,OAAmBvB,EAAcP,GAAO8B,IAAO,GAEvEG,GAAmCP,YACvCD,GACA,SAACxB,GAAD,OACEA,EACGiC,SAAQ,SAACC,GAAD,OACPA,EAAKC,KAAKvD,KAAI,SAACwD,GAAD,MAAgB,CAAEA,YAAWC,OAAQH,EAAKL,UAEzDS,QACC,SAACC,EAAD,OAAQH,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,OAAnB,mBAAC,eAAqCE,GAAtC,kBAA4CH,EAAYC,MACxD,OAIKG,GAAwBf,YACnCvB,EACAI,EACA0B,IACA,SAAC7B,EAAUI,EAAOkC,GAAlB,OACEf,OAAOgB,KAAKnC,GACToC,QAAO,SAACP,GAAD,OAAe7B,EAAM6B,GAAa,KACzCxD,KAAI,SAACwD,GAAD,OAAejC,EAASiC,MAC5BxD,KAAI,SAACgE,GAAD,MAAc,CACjBA,UACAC,OAAQtC,EAAMqC,EAAQf,IACtBiB,SAAUvC,EAAMqC,EAAQf,IAAMe,EAAQG,MACtCjC,aAAc2B,EAAeG,EAAQf,WAIhCmB,GAAgBvB,YAC3Be,IACA,SAACS,GAAD,OACEA,EAAcX,QAAO,SAACC,EAAD,UAAuBA,EAAvB,EAAQO,WAA+B,MAGnDI,GAAwBzB,aAtCP,SAAC1B,EAAD,OAAU8B,EAAV,EAAUA,GAAV,OAAmBzB,EAAgBL,GAAO8B,MA9BlD,SAAC9B,GAAD,OAAWA,EAAMoB,MAAMlB,YAuE3C,SAACkD,EAAQhC,GAAT,yBAAC,eACIgC,GADL,IAEEC,KAAI,UAAEjC,EAAMgC,EAAOE,eAAf,aAAE,EAAsBC,UAInBC,GAAwB9B,YACnCrB,EACAwB,IACA,SAACvB,EAASmD,GACR,IAAMC,EAAUD,EAAWnD,QAAQzB,KAAI,SAACiD,GAAD,aAAQ,UAAAxB,EAAQwB,UAAR,eAAa6B,SAAU,KACtE,OAAOC,KAAKC,MACVH,EAAQnB,QAAO,SAACC,EAAKmB,GAAN,OAAiBnB,EAAMmB,IAAQ,GAAKD,EAAQI,WAKpDC,GAAoBrC,YAAenB,GAAe,SAACC,GAAD,OAC7DmB,OAAOqC,QAAQxD,GAAO3B,KAAI,yCAAmB,CAAEiD,GAArB,KAAyBgB,OAAzB,YCzEfmB,GAAY,SAACnC,GAAD,MAAS,CAAEoC,KAAM/E,EAAW2C,OACxCqC,GAAY,SAACrC,GAAD,MAAS,CAAEoC,KAAM9E,EAAW0C,OAqB/CsC,GAAe,SAACrD,GAAD,MAAmB,CACtCmD,KAAMzE,EACN4E,QAAQ,mBAAD,OAAqBtD,GAC5BA,iB,oBClCauD,ICZXC,GDYWD,GATf,WACE,OACE,sBAAK3F,UAAWC,KAAO4F,OAAvB,UACE,qBAAK7F,UAAWC,KAAO6F,UACvB,qBAAK9F,UAAWC,KAAO8F,c,qECL7B,SAASC,KAA2Q,OAA9PA,GAAWhD,OAAOiD,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjB,OAAQgB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcrD,OAAOuD,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAASQ,GAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAa9D,OAAOgB,KAAKqC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW3B,OAAQgB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASE,QAAQT,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxMc,CAA8BX,EAAQQ,GAAuB,GAAI7D,OAAOiE,sBAAuB,CAAE,IAAIC,EAAmBlE,OAAOiE,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB/B,OAAQgB,IAAOG,EAAMY,EAAiBf,GAAQU,EAASE,QAAQT,IAAQ,GAAkBtD,OAAOuD,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,SAASkB,GAAQC,EAAMC,GACrB,IAAInH,EAAQkH,EAAKlH,MACboH,EAAUF,EAAKE,QACfpF,EAAQyE,GAAyBS,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOrB,GAAS,CACtDwB,KAAM,OACNC,OAAQ,GACRC,QAAS,YACTC,MAAO,GACPC,MAAO,6BACPC,IAAKP,EACL,kBAAmBC,GAClBpF,GAAQhC,EAAqB,gBAAoB,QAAS,CAC3DgD,GAAIoE,GACHpH,GAAS,KAAMyF,KAAUA,GAAqB,gBAAoB,OAAQ,CAC3EkC,EAAG,0FACHN,KAAM,WAIV,IC/BI,GD+BAO,GAA0B,aAAiBX,IAChC,IC9Bf,SAAS,KAA2Q,OAA9P,GAAWpE,OAAOiD,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjB,OAAQgB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcrD,OAAOuD,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAa9D,OAAOgB,KAAKqC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW3B,OAAQgB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASE,QAAQT,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAI7D,OAAOiE,sBAAuB,CAAE,IAAIC,EAAmBlE,OAAOiE,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB/B,OAAQgB,IAAOG,EAAMY,EAAiBf,GAAQU,EAASE,QAAQT,IAAQ,GAAkBtD,OAAOuD,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,SAAS8B,GAASX,EAAMC,GACtB,IAAInH,EAAQkH,EAAKlH,MACboH,EAAUF,EAAKE,QACfpF,EAAQ,GAAyBkF,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDG,KAAM,OACNC,OAAQ,EACRC,QAAS,WACTC,MAAO,GACPC,MAAO,6BACPC,IAAKP,EACL,kBAAmBC,GAClBpF,GAAQhC,EAAqB,gBAAoB,QAAS,CAC3DgD,GAAIoE,GACHpH,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E2H,EAAG,qCACHN,KAAM,WAIV,IC/BI,GD+BA,GAA0B,aAAiBQ,IAChC,IC9Bf,SAAS,KAA2Q,OAA9P,GAAWhF,OAAOiD,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjB,OAAQgB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcrD,OAAOuD,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAa9D,OAAOgB,KAAKqC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW3B,OAAQgB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASE,QAAQT,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAI7D,OAAOiE,sBAAuB,CAAE,IAAIC,EAAmBlE,OAAOiE,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB/B,OAAQgB,IAAOG,EAAMY,EAAiBf,GAAQU,EAASE,QAAQT,IAAQ,GAAkBtD,OAAOuD,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,SAAS+B,GAAUZ,EAAMC,GACvB,IAAInH,EAAQkH,EAAKlH,MACboH,EAAUF,EAAKE,QACfpF,EAAQ,GAAyBkF,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDO,MAAO,6BACPD,MAAO,OACPF,OAAQ,OACRC,QAAS,sBACTG,IAAKP,EACL,kBAAmBC,GAClBpF,GAAQhC,EAAqB,gBAAoB,QAAS,CAC3DgD,GAAIoE,GACHpH,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E2H,EAAG,ohBACHN,KAAM,WAIV,IAAI,GAA0B,aAAiBS,ICtBzCC,IDuBS,ICvBD,CACZC,KAAMC,GACNC,MAAOC,GACPC,OAAQC,KA8BKC,GA3BA,SAAC,GAQT,IAAD,EAPJC,EAOI,EAPJA,KAOI,IANJC,eAMI,aALJC,iBAKI,aAJJC,aAII,aAHJC,aAGI,SAFJC,EAEI,EAFJA,SACG5G,EACC,0EACE6G,EAAOd,GAAMQ,GAEnB,OACE,iDACE1I,UAAWiJ,KAAGhJ,KAAOiJ,QAAR,mBACVjJ,KAAO0I,QAAUA,GADP,cAEV1I,KAAO2I,UAAYA,GAFT,cAGV3I,KAAO4I,MAAQA,GAHL,cAIV5I,KAAO6I,MAAQA,GAJL,KAMT3G,GAPN,cASG6G,GAAQ,cAACA,EAAD,IACRD,OClCDI,GAAeC,0BAEfC,GAAgB,CACpBC,IAAK,CAAEC,MAAO,MAAOC,KAAM,EAAGC,KAAM,KACpCC,IAAK,CAAEH,MAAO,MAAOC,KAAM,EAAI,IAAKC,KAAM,UAC1CE,IAAK,CAAEJ,MAAO,MAAOC,KAAM,GAAIC,KAAM,UACrCG,IAAK,CAAEL,MAAO,MAAOC,KAAM,GAAIC,KAAM,WAGjCI,GAAa7G,OAAOqC,QAAQgE,IAAenJ,KAAI,yCAAuB,CAC1EoG,IADmD,KAEnDiD,MAFmD,KAASA,UAKvD,SAASO,GAAT,GAAsC,IAAbf,EAAY,EAAZA,SAAY,EACVgB,mBAAS,OADC,mBACnCC,EADmC,KACzBC,EADyB,OAEnBZ,GAAcW,GAA7BR,EAFkC,EAElCA,KAAMC,EAF4B,EAE5BA,KAGd,OACE,cAACN,GAAae,SAAd,CAAuBC,MAAO,CAAEN,cAAYG,WAAUC,cAAaG,EAH3D,SAACjG,GAAD,iBAAgBqF,EAAOrF,GAAQkG,QAAQ,GAAvC,YAA6CZ,KAGrD,SACGV,IAKA,SAASuB,GAAT,GAA2B,IAAVH,EAAS,EAATA,MAEtB,OAAOC,EADOG,qBAAWpB,IAAjBiB,GACCD,GAGIhB,UC6BAqB,gBAVS,SAACnJ,EAAOc,GAAR,MAAmB,CACzCgC,OAAQd,GAAehC,EAAOc,GAC9B+B,QAASd,GAAgB/B,EAAOc,OAGP,SAACsI,EAAUtI,GAAX,MAAsB,CAC/CmD,UAAW,kBAAMmF,EAASnF,GAAUnD,EAAMgB,MAC1CqC,UAAW,kBAAMiF,EAASjF,GAAUrD,EAAMgB,SAG7BqH,EAnDC,SAAC,GAA+C,IAA7CtG,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,OAAQmB,EAA2B,EAA3BA,UAAWE,EAAgB,EAAhBA,UAC7C,OAAKtB,EAGH,qBAAKlE,UAAWC,KAAOiE,QAASwG,UAAQ,UAAxC,SACE,sBAAK1K,UAAWC,KAAO0K,QAAvB,UACE,gCACE,oBAAI3K,UAAWC,KAAOE,MAAtB,SAA8B+D,EAAQU,OACtC,mBAAG5E,UAAWC,KAAO2K,YAArB,SAAmC1G,EAAQ2G,YAAYC,KAAK,QAC5D,qBAAK9K,UAAWC,KAAOoE,MAAvB,SACE,cAACiG,GAAD,CAAOH,MAAOjG,EAAQG,aAG1B,8BACE,sBAAKrE,UAAWC,KAAO8K,QAAvB,UACE,qBAAK/K,UAAWC,KAAO+K,MAAON,UAAQ,iBAAtC,SACGvG,IAEH,sBAAKnE,UAAWC,KAAOgL,QAAvB,UACE,cAAC,GAAD,CAAQC,QAAS1F,EAAWkD,KAAK,UACjC,cAAC,GAAD,CAAQwC,QAAS5F,EAAWoD,KAAK,sBAnBxB,Q,kECThB,SAASyC,KAEd,OADcZ,qBAAWpB,IAAjBiB,ECkCV,IAMeI,eAAQ,MANI,SAACC,EAAUW,GAAX,MAAyB,CAClD9F,UAAW,kBAAMmF,EAASnF,GAAU8F,EAASlH,QAAQf,MACrDqC,UAAW,kBAAMiF,EAASjF,GAAU4F,EAASlH,QAAQf,MACrDkI,OAAQ,kBAAMZ,GTlBOtH,ESkBSiI,EAASlH,QAAQf,GTlBlB,CAAEoC,KAAM7E,EAAQyC,QAAzB,IAACA,MSqBRqH,EAlCf,YAQI,IAPFtG,EAOC,EAPDA,QACAC,EAMC,EANDA,OACAC,EAKC,EALDA,SACAhC,EAIC,EAJDA,aACAkD,EAGC,EAHDA,UACAE,EAEC,EAFDA,UACA6F,EACC,EADDA,OAEMjB,EAAIe,KACV,OACE,sBAAKnL,UAAWC,KAAOqL,WAAvB,UACE,qBAAKtL,UAAWC,KAAO2E,KAAvB,SACE,cAAC,IAAD,CAAMxE,GAAE,uBAAkBgC,EAAlB,SAAR,SAAgD8B,EAAQU,SAE1D,sBAAK5E,UAAWC,KAAOsL,KAAvB,UACE,sBAAKvL,UAAWC,KAAO8K,QAAvB,UACE,cAAC,GAAD,CAAQG,QAAS1F,EAAWkD,KAAK,QAAQE,WAAS,EAACC,OAAK,IACxD,sBAAM7I,UAAWC,KAAO+K,MAAxB,SAAgC7G,IAChC,cAAC,GAAD,CAAQ+G,QAAS5F,EAAWoD,KAAK,OAAOE,WAAS,EAACC,OAAK,OAEzD,mBAAG7I,UAAWiJ,KAAGhJ,KAAO+K,MAAO/K,KAAOoE,OAAtC,SAA+C+F,EAAEhG,KACjD,cAAC,GAAD,CAAQ8G,QAASG,EAAQ3C,KAAK,SAASE,WAAS,EAACC,OAAK,aC9BjD2C,GAAcpC,wBAAc,CACvCxE,KAAM,eACN6G,QAAS,eAGEC,GAAeF,GAAYtB,SAC3ByB,GAAeH,GAAYI,SC+ExC,ICvFI,GD+FWpB,gBARS,SAACnJ,GACvB,MAAO,CACLwK,MAAOvH,GAAcjD,GACrBkD,cAAeT,GAAsBzC,GACrCU,QAASY,EAAqBtB,MAIM,CAAEyK,UXpBjB,yDAAM,WAAOrB,EAAUsB,GAAjB,iBAAAC,EAAA,6DACvB3K,EAAQ0K,IACRE,EAAW7G,GAAkB/D,GAFN,kBAKrBoJ,EAAS,CAAElF,KAAMvE,EAAY0E,QAAS,aAAcuG,aAL/B,OAM3BxB,EAASyB,YAAK,mBANa,gDAQ3BzB,EAASyB,YAAK,iBARa,yDAAN,0DWoBV1B,EA1Ef,YAMI,IAAD,IALDrK,aAKC,MALO,SAKP,EAJD0L,EAIC,EAJDA,MACAtH,EAGC,EAHDA,cACAuH,EAEC,EAFDA,UACA/J,EACC,EADDA,QAEMqI,EAAIe,KAEV,OAAKU,EASH,sBAAK7L,UAAWC,KAAOkM,OAAvB,UACGpK,GACC,qBAAK/B,UAAWC,KAAO8B,QAAvB,SACE,cAAC,GAAD,MAGJ,oBAAI/B,UAAWC,KAAOE,MAAtB,SACE,cAACwL,GAAD,UAAe,gBAAG/G,EAAH,EAAGA,KAAH,gBAAiBA,EAAjB,cAA2BzE,QAE5C,cAACiM,GAAA,EAAD,UACG7H,EAAcrE,KAAI,gBAAGgE,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,SAAUhC,EAA9B,EAA8BA,aAA9B,OACjB,cAACiK,GAAA,EAAD,CAAgCC,QAAS,IAAKC,WAAW,SAAzD,SACE,cAAC,GAAD,CACErI,QAASA,EACTC,OAAQA,EACRC,SAAUA,EACVhC,aAAcA,KALE8B,EAAQf,SAUhC,oBAAInD,UAAWC,KAAOuM,KACtB,sBAAKxM,UAAWyM,KAAWnB,WAA3B,UACE,qBAAKtL,UAAWyM,KAAW7H,KAA3B,SACE,wCAEF,qBAAK5E,UAAWyM,KAAWlB,KAA3B,SACE,4BAAInB,EAAEyB,UAGV,eAAC,IAAD,WACE,cAAC,IAAD,CAAOa,KAAK,YAAZ,SACE,cAAC,GAAD,CAAQ/D,SAAO,EAACG,OAAK,EAACoC,QAASY,EAA/B,0BAIF,cAAC,IAAD,UACE,cAAC,IAAD,CAAM1L,GAAG,YAAT,SACE,cAAC,GAAD,CAAQuI,SAAO,EAACG,OAAK,EAArB,sCA7CN,qBAAK9I,UAAWC,KAAOkM,OAAvB,SACE,oBAAInM,UAAWC,KAAOE,MAAtB,8C,oBEjBFwM,G,4MAKJtL,MAAQ,CAAEwB,MAAO,M,EAEjB+J,qBAAuB,WAAO,IAAD,EAC6B,EAAKzK,MAArD0K,EADmB,EACnBA,aAAczK,EADK,EACLA,aAAcL,EADT,EACSA,QAASE,EADlB,EACkBA,OACxCF,GAAYE,GACf4K,EAAazK,I,uDAIjB,WACEuE,KAAKiG,yB,gCAGP,SAAmBE,EAAWC,GACxBD,EAAU1K,eAAiBuE,KAAKxE,MAAMC,cACxCuE,KAAKiG,yB,+BAIT,SAAkB/J,GAChB8D,KAAKqG,SAAS,CAAEnK,Y,oBAGlB,WAAU,IAAD,EACmB8D,KAAKxE,MAAvBsB,EADD,EACCA,KAER,OAHO,EACO1B,QAGL,cAAC,GAAD,IAGL4E,KAAKtF,MAAMwB,MACN,oPAIP,sBAAK7C,UAAWC,KAAOwD,KAAvB,UACE,8BACGA,EAAKvD,KAAI,SAACiD,GAAD,OACR,cAAC,GAAD,CAAkBA,GAAIA,GAARA,QAGlB,8BACE,cAAC,GAAD,a,GA/CS8J,IAAMC,WA2DnBC,GAAqB,CAAEN,abtCD,SAACzK,GAAD,MAAmB,CAC7CmD,KAAM1E,EACN6E,QAAQ,oBAAD,OAAsBtD,GAC7BA,kBaqCaoI,gBAPS,SAACnJ,EAAOc,GAAR,MAAmB,CACzCJ,QAASG,EAAwBb,EAAOc,GACxCF,OAAQI,EAAuBhB,EAAOc,MAKAgL,GAAzB3C,CAA6CmC,I,SD3E5D,SAAS,KAA2Q,OAA9P,GAAW3J,OAAOiD,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjB,OAAQgB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcrD,OAAOuD,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAa9D,OAAOgB,KAAKqC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW3B,OAAQgB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASE,QAAQT,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAI7D,OAAOiE,sBAAuB,CAAE,IAAIC,EAAmBlE,OAAOiE,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB/B,OAAQgB,IAAOG,EAAMY,EAAiBf,GAAQU,EAASE,QAAQT,IAAQ,GAAkBtD,OAAOuD,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,SAASkH,GAAQ/F,EAAMC,GACrB,IAAInH,EAAQkH,EAAKlH,MACboH,EAAUF,EAAKE,QACfpF,EAAQ,GAAyBkF,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDM,MAAO,GACPF,OAAQ,GACRC,QAAS,YACTF,KAAM,OACNI,MAAO,6BACPC,IAAKP,EACL,kBAAmBC,GAClBpF,GAAQhC,EAAqB,gBAAoB,QAAS,CAC3DgD,GAAIoE,GACHpH,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E2H,EAAG,2IAIP,IAAI,GAA0B,aAAiBsF,I,IAChC,I,kBEHAC,GApBF,SAAC,GAAD,IAAGlD,EAAH,EAAGA,MAAOmD,EAAV,EAAUA,SAAV,OACX,8BACG,aAAIC,MAAM,IAAIrN,KAAI,SAACsN,EAAGrH,GAAJ,aACjB,cAAC,GAAD,CAEEuE,UAASvE,GAAKgE,EAAQ,EAAI,YAAc,aACxCnK,UAAWiJ,KAAGhJ,KAAOwN,MAAR,mBACVxN,KAAOyN,QAAUvH,GAAKgE,EAAQ,GADpB,cAEVlK,KAAO0N,YAAcL,GAFX,IAIbpC,QAASoC,EAAW,kBAAMA,EAASnH,EAAI,SAAKyH,GANvCzH,S,oBCJP0H,GAAS,SAAC,GAAD,IAAGnJ,EAAH,EAAGA,KAAMoJ,EAAT,EAASA,KAAM9I,EAAf,EAAeA,OAAf,OACb,qBAAKhF,UAAWC,KAAOwE,OAAQiG,UAAQ,SAAvC,SACE,sBAAK1K,UAAWC,KAAO0K,QAAvB,UACE,gCACE,oBAAI3K,UAAWC,KAAO2E,KAAM8F,UAAQ,cAApC,SACGhG,IAEH,mBAAG1E,UAAWC,KAAO8N,QAASrD,UAAQ,cAAtC,SACGoD,OAGL,qBAAK9N,UAAWC,KAAOuJ,KAAvB,SACE,cAAC,GAAD,CAAMW,MAAOnF,YAYrB6I,GAAOG,aAAe,CACpBtJ,KAAM,aASR,IAAMuJ,GAAkBzJ,GAETgG,eAAQyD,GAARzD,CAAyBqD,I,IC5CpC,GAAOK,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAUC,G,oBCU/DC,GAAiB,CAAE9J,KAAM,GAAIkJ,KAAM,GAAI9I,OAAQ,GAqDtCwF,eAAQ,MAJI,SAACC,EAAUtI,GAAX,MAAsB,CAC/CwM,SAAU,SAAClK,GAAD,OAAYgG,EjBnCC,SAAChG,EAAQrC,GAAT,MAA2B,CAClDmD,KAAM5E,EACN8D,SACArC,eACAwM,WAAY,CAAC,WAAY,WiB+BMC,CAAUpK,EAAQtC,EAAMC,mBAG1CoI,EAnDI,SAAC,GAAkB,IAAhBmE,EAAe,EAAfA,SAAe,ECVtB,WAAsC,IAArBG,EAAoB,uDAAJ,GAAI,EACtB/E,mBAAS+E,GADa,mBAC3C7L,EAD2C,KACnC8L,EADmC,KAG5CC,EAAW,SAAC1I,EAAK6D,GAAN,OAAgB4E,EAAU,2BAAK9L,GAAN,kBAAeqD,EAAM6D,MAEzDmD,EAAW,SAAChH,GAAD,OAAS,SAAC2I,GAAD,OACxBD,EAAS1I,EAAK2I,EAAG/I,OAAS+I,EAAG/I,OAAOiE,MAAQ8E,KAE9C,MAAO,CACLhM,SACAiM,MAAO,kBAAMH,EAAUD,IACvBK,SAAUnM,OAAOgB,KAAKf,GAAQW,QAC5B,SAACC,EAAKyC,GAAN,mBAAC,eACIzC,GADL,kBAEGyC,EAAM,CAAE6D,MAAOlH,EAAOqD,GAAMgH,SAAUA,EAAShH,QAElD,KDLgC8I,CAAQV,IAApCzL,EAD2B,EAC3BA,OAAQkM,EADmB,EACnBA,SAAUD,EADS,EACTA,MAQ1B,OACE,sBAAKlP,UAAWC,KAAOoP,WAAvB,UACE,oBAAIrP,UAAWC,KAAOqP,eAAtB,+BACA,uBAAMX,SATW,SAACM,GACpBA,EAAGM,iBACHZ,EAAS1L,GACTiM,KAME,UACE,qBAAKlP,UAAWC,KAAOuP,eAAvB,SACE,mCACEC,YAAY,YACZzP,UAAWC,KAAOyP,SACdP,EAASvK,SAGjB,qBAAK5E,UAAWC,KAAOuP,eAAvB,SACE,sCACEC,YAAY,cACZzP,UAAWC,KAAOyP,SACdP,EAASrB,SAGjB,sBAAK9N,UAAWC,KAAO0P,SAAvB,UACE,4CACA,+BACE,cAAC,GAAD,eAAUR,EAASnK,cAGvB,qBAAKhF,UAAWC,KAAO2P,QAAvB,SACE,cAAC,GAAD,CAAQjH,SAAO,EAACG,OAAK,EAArB,uC,wCEUJqE,GAAqB,CAAE0C,YnBLF,SAACzN,GAAD,8CAAkB,WAAOqI,EAAUsB,GAAjB,mBAAAC,EAAA,yDACrC3K,EAAQ0K,IACRhK,EAAUO,EAAuBjB,EAAO,CAAEe,iBAC1CH,EAASM,EAAsBlB,EAAO,CAAEe,kBAE1CL,IAAWE,EAL4B,0EAQnCwI,EAAShF,GAAarD,IARa,yDAUzCqI,EAASqF,YAAQ,WAVwB,0DAAlB,yDmBKeC,UnBSjB,yDAAM,WAAOtF,EAAUsB,GAAjB,mBAAAC,EAAA,yDACvB3K,EAAQ0K,IACRhK,EAAUS,EAAqBnB,GAC/BY,EAASS,EAAoBrB,IAE/BU,IAAWE,EALc,iDAO7BwI,EAvBwB,CAAElF,KAAMxE,EAAY2E,QAAS,eAgBxB,2CAAN,0DmBPV8E,gBAPS,SAACnJ,EAAOc,GAAR,MAAmB,CACzC6N,cAAezN,EAAsBlB,EAAOc,GAC5C8N,YAAavN,EAAoBrB,MAKK8L,GAAzB3C,EAzCC,SAAC,GAOV,IANL7I,EAMI,EANJA,QACAS,EAKI,EALJA,aACAyN,EAII,EAJJA,YACAE,EAGI,EAHJA,UACAE,EAEI,EAFJA,YACAD,EACI,EADJA,cAOA,OALAE,qBAAU,WACRH,IACAF,EAAYzN,KACX,CAAC2N,EAAWF,EAAazN,IAEvB6N,GAAgBD,EAGnB,sBAAKhQ,UAAWC,KAAO0B,QAAvB,UACE,cAACyK,GAAA,EAAD,UACGzK,EAAQzB,KAAI,SAACiD,GAAD,OACX,cAACkJ,GAAA,EAAD,CAAwBC,QAAS,IAAKC,WAAY4D,KAAlD,SACE,cAAC,GAAD,CAAQhN,GAAIA,KADMA,QAKxB,cAAC,GAAD,CAAYf,aAAcA,OAXa,cAAC,GAAD,O,oBC9B9B,OAA0B,mCCuB1BgO,GAhBA,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASzF,EAAZ,EAAYA,YAAa7B,EAAzB,EAAyBA,SAAzB,OACb,sBAAK/I,UAAWC,KAAOqQ,OAAvB,UACE,qBAAKC,IAAKD,GAAQtQ,UAAWC,KAAOuQ,IAAKC,IAAI,WAC7C,sBAAKzQ,UAAWC,KAAOyQ,QAAvB,UACE,oBAAI1Q,UAAWC,KAAOoQ,QAAtB,SAAgCA,IAChC,mBAAGrQ,UAAWC,KAAO2K,YAArB,SAAmCA,IACnC,8BAAM7B,WC2CGyB,gBALS,SAACnJ,EAAOc,GAAR,MAAmB,CACzC2C,WAAY5B,GAAmB7B,EAAOc,GACtCwO,cAAe9L,GAAsBxD,EAAOc,MAG/BqI,EA1CI,SAAC,GAA0C,IAAxC1F,EAAuC,EAAvCA,WAAY6L,EAA2B,EAA3BA,cACxBxN,GADmD,EAAZyN,MACX9L,EAA5B3B,IAAIyB,EAAwBE,EAAxBF,KAAMnB,EAAkBqB,EAAlBrB,KAAM9B,EAAYmD,EAAZnD,QAElB5B,EAAO,CACX,CAAEI,MAAO,OAAQC,GAAG,gBAAD,OAAkB+C,EAAlB,UACnB,CAAEhD,MAAO,UAAWC,GAAG,gBAAD,OAAkB+C,EAAlB,cAGxB,OACE,gCACE,cAAC,GAAD,CAAQkN,QAASzL,EAAjB,WACK+L,GAAiB,cAAC,GAAD,CAAMxG,MAAOwG,MAEnC,cAAC,EAAD,CAAM5Q,KAAMA,IACZ,eAAC,IAAD,WACE,cAAC,IAAD,CAAO2M,KAAK,4BAAZ,SACE,cAAC,GAAD,CAAMjJ,KAAMA,EAAMrB,aAAce,MAElC,cAAC,IAAD,CAAOuJ,KAAK,+BAAZ,SACE,cAAC,GAAD,CAAS/K,QAASA,EAASS,aAAce,MAE3C,cAAC,IAAD,CAAU/C,GAAG,uCCsBNoK,gBANS,SAACnJ,GAAD,MAAY,CAClCC,YAAawB,EAAwBzB,GACrCU,QAASD,EAA2BT,GACpCY,OAAQD,EAA0BX,MAGI,CAAEwP,gBvBzBX,iBAAO,CACpCtL,KAAM3E,EACN8E,QAAS,sBuBuBI8E,EA3CK,SAAC,GAAuD,IAArDlJ,EAAoD,EAApDA,YAAaS,EAAuC,EAAvCA,QAASE,EAA8B,EAA9BA,OAAQ4O,EAAsB,EAAtBA,gBACnDX,qBAAU,WACHnO,GAAYE,GAAQ4O,MACxB,CAACA,EAAiB9O,EAASE,IAE9B,IAAM2O,EAAQE,YAAc,+BACtBC,GAAa,OAALH,QAAK,IAALA,OAAA,EAAAA,EAAOI,OAAOD,QAAS,OAErC,GAAIhP,EAAS,OAAO,cAAC,GAAD,IACpB,IAAKE,EAAQ,MAAO,aAEpB,IAAMlC,EAAOuB,EAAYpB,KAAI,gBAAGiD,EAAH,EAAGA,GAAH,MAAmB,CAC9ChD,MAD2B,EAAOyE,KAElCxE,GAAG,gBAAD,OAAkB+C,EAAlB,YAAwB4N,OAG5B,OACE,gCACE,cAAC,EAAD,CAAMhR,KAAMA,IACZ,eAAC,IAAD,WACE,cAAC,IAAD,CAAO2M,KAAK,uBAAZ,SACG,gBAAGkE,EAAH,EAAGA,MAAH,OAAe,cAAC,GAAD,CAAYzN,GAAIyN,EAAMI,OAAOrN,YAE/C,cAAC,IAAD,CAAUvD,GAAE,uBAAkBkB,EAAY,GAAG6B,MAJ/C,aP/BN,SAAS,KAA2Q,OAA9P,GAAWH,OAAOiD,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjB,OAAQgB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcrD,OAAOuD,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAa9D,OAAOgB,KAAKqC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW3B,OAAQgB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASE,QAAQT,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAI7D,OAAOiE,sBAAuB,CAAE,IAAIC,EAAmBlE,OAAOiE,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB/B,OAAQgB,IAAOG,EAAMY,EAAiBf,GAAQU,EAASE,QAAQT,IAAQ,GAAkBtD,OAAOuD,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,SAAS+K,GAAQ5J,EAAMC,GACrB,IAAInH,EAAQkH,EAAKlH,MACboH,EAAUF,EAAKE,QACfpF,EAAQ,GAAyBkF,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDM,MAAO,IACPF,OAAQ,GACRC,QAAS,aACTF,KAAM,OACNI,MAAO,6BACPC,IAAKP,EACL,kBAAmBC,GAClBpF,GAAQhC,EAAqB,gBAAoB,QAAS,CAC3DgD,GAAIoE,GACHpH,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E2H,EAAG,+FACHN,KAAM,WACH0G,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEpG,EAAG,+OACHN,KAAM,WACH2G,KAAWA,GAAsB,gBAAoB,OAAQ,CAChErG,EAAG,8WACHN,KAAM,aACH4G,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEtG,EAAG,8WACHN,KAAM,aACH6G,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEvG,EAAG,gIACHN,KAAM,WACH8G,KAAWA,GAAsB,gBAAoB,OAAQ,CAChExG,EAAG,oLACHN,KAAM,WACH+G,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEzG,EAAG,+GACHN,KAAM,WACHgH,KAAaA,GAAwB,gBAAoB,UAAW,CACvE0C,GAAI,KACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJ7J,KAAM,aACHiH,KAAcA,GAAyB,gBAAoB,UAAW,CACzEyC,GAAI,KACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJ7J,KAAM,cAIV,IAAI,GAA0B,aAAiByJ,I,IAChC,I,sCQnCAK,GAtBU,WAAO,IAAD,EACiB/G,qBAAWpB,IAAjDa,EADqB,EACrBA,SAAUH,EADW,EACXA,WAAYI,EADD,EACCA,YAExBqD,EAAW,SAACiE,GAAD,OAAOtH,EAAYsH,EAAErL,OAAOiE,QAE7C,OACE,0BAAUnK,UAAWC,KAAOuR,SAA5B,SACG3H,EAAW3J,KAAI,gBAAGoG,EAAH,EAAGA,IAAKiD,EAAR,EAAQA,MAAR,OACd,wBAAiBvJ,UAAWC,KAAOwR,YAAnC,UACE,uBACElM,KAAK,QACL4E,MAAO7D,EACPoH,QAASpH,IAAQ0D,EACjBsD,SAAUA,IAEZ,+BAAO/D,MAPGjD,SCMLoL,GAXA,WACb,OACE,yBAAQ1R,UAAWC,KAAO0R,OAA1B,UACE,cAAC,IAAD,CAAMvR,GAAG,eAAT,SACE,cAAC,GAAD,MAEF,cAAC,GAAD,Q,oBCJSwR,GANM,kBACnB,oBAAI5R,UAAWC,KAAO4R,KAAtB,yE,oBCwBarH,gBAAQ,SAACnJ,GAAD,MAAY,CACjCwB,MAAOD,EAAmBvB,MADbmJ,EAlBI,SAAC,GAAe,IAAb3H,EAAY,EAAZA,MACduH,EAAIe,KACJ2G,EAAS,OAAGjP,QAAH,IAAGA,OAAH,EAAGA,EAAOiN,QAAQ,aAAa,SAACtC,EAAGuE,GAAJ,OAAU3H,EAAE2H,MAE1D,OACE,qBAAI/R,UAAWC,KAAO4R,KAAtB,UACE,4BAAIC,IACJ,qBAAK9R,UAAWC,KAAO+R,QAAvB,SACE,cAAC,IAAD,CAAM5R,GAAG,YAAT,SACE,cAAC,GAAD,CAAQuI,SAAO,EAACG,OAAK,EAArB,wCCUKmJ,GApBH,WAAO,IAAD,EACQlI,mBAAS,QADjB,mBACTnF,EADS,KACH6G,EADG,KAEhB,OACE,8BACE,eAACC,GAAD,CAAcvB,MAAO,CAAEvF,OAAM6G,WAA7B,UACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAUyG,OAAK,EAACC,KAAK,IAAI/R,GAAG,iBAC5B,cAAC,IAAD,CAAOsM,KAAK,YAAY0F,UAAWC,KACnC,cAAC,IAAD,CAAO3F,KAAK,eAAe0F,UAAWE,KACtC,cAAC,IAAD,CAAO5F,KAAK,iBAAiB0F,UAAWR,KACxC,cAAC,IAAD,CAAOlF,KAAK,eAAe0F,UAAWG,KACtC,cAAC,IAAD,CAAO7F,KAAK,SAAS0F,UAAW,kBAAM,gDACtC,cAAC,IAAD,CAAO1F,KAAK,IAAI0F,UAAW,kBAAM,+D,6CCrBrCI,GAAmB,SAACC,GAAD,MAAW,CAClCC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUL,KCKjBM,GAAe,CACnBhR,SAAS,EACTE,QAAQ,EACRY,MAAO,KACPtB,SAAU,I,SCdCyR,GAAW,SAACC,GAAD,OACtBA,EAAIrP,QAAO,SAACC,EAAKqP,GAAN,mBAAC,eAAoBrP,GAArB,kBAA2BqP,EAAK/P,GAAK+P,MAAS,KCSrDH,GAAe,CACnBxR,SAAU,GACVQ,SAAS,EACTE,QAAQ,EACRY,MAAO,MCVHkQ,GAAe,CACnBxR,SAAU,GACVQ,QAAS,GACTE,OAAQ,GACRY,MAAO,MCEHkQ,GAAe,CACnBxR,SAAU,GACVQ,QAAS,GACTE,OAAQ,GACRY,MAAO,MAGMsQ,iBAAQ,WAAmC,IAAlCC,EAAiC,uDAAzBL,GAAcM,EAAW,uCAC/C9N,EAA8D8N,EAA9D9N,KAAMd,EAAwD4O,EAAxD5O,OAAQ6O,EAAgDD,EAAhDC,SAAU3O,EAAsC0O,EAAtC1O,OAAQvC,EAA8BiR,EAA9BjR,aAAcqQ,EAAgBY,EAAhBZ,KAAM5P,EAAUwQ,EAAVxQ,MAE5D,OAAQ0C,GACN,KAAKzE,EAAeG,EAClBmS,EAAMvQ,MAAQ,KACduQ,EAAMrR,QAAQK,IAAgB,EAC9B,MAEF,KAAKtB,EAAeI,EAClBkS,EAAMrR,QAAQK,IAAgB,EAC9BgR,EAAMnR,OAAOG,IAAgB,EAC7BgR,EAAM7R,SAAN,2BAAsB6R,EAAM7R,UAAayR,GAASP,IAClD,MAEF,KAAK3R,EAAeK,EAClBiS,EAAMrR,QAAQK,IAAgB,EAC9BgR,EAAMnR,OAAOG,IAAgB,EAC7BgR,EAAMvQ,MAAQA,EACd,MAEF,KAAKlC,EAAL,IACUmN,EAAiBrJ,EAAjBqJ,KAAM9I,EAAWP,EAAXO,OACdoO,EAAM7R,SAAS+R,GAAY,CAAEnQ,GAAImQ,EAAU3O,SAAQmJ,OAAM9I,UACzD,MACF,QACE,OAAOoO,MCjCPL,GAAe,CACnBxR,SAAU,GACVQ,SAAS,EACTE,QAAQ,EACRY,MAAO,MAGMsQ,iBAAQ,WAAmC,IAAlCC,EAAiC,uDAAzBL,GAAcM,EAAW,uCAC/C9N,EAAsC8N,EAAtC9N,KAAMd,EAAgC4O,EAAhC5O,OAAQE,EAAwB0O,EAAxB1O,OAAQ8N,EAAgBY,EAAhBZ,KAAM5P,EAAUwQ,EAAVxQ,MAEpC,OAAQ0C,GACN,KAAKxE,EAAaE,EAChBmS,EAAMvQ,MAAQ,KACduQ,EAAMrR,SAAU,EAChB,MAEF,KAAKhB,EAAaG,EAChBkS,EAAMrR,SAAU,EAChBqR,EAAMnR,QAAS,EACfmR,EAAM7R,SAAN,2BAAsB6R,EAAM7R,UAAayR,GAASP,IAClD,MAEF,KAAK1R,EAAaI,EAChBiS,EAAMrR,SAAU,EAChBqR,EAAMnR,QAAS,EACfmR,EAAMvQ,MAAQA,EACd,MAEF,KAAKlC,EAAL,IACUiE,EAASH,EAATG,KACRwO,EAAM7R,SAASoD,GAAU,CAAExB,GAAIwB,EAAQC,QACvC,MACF,QACE,OAAOwO,M,SCvCEG,GAFCC,eCSDC,8BAAgB,CAC7BC,OAAQC,YAAcJ,IACtB1R,MPIa,WAAmC,IAAlCR,EAAiC,uDAAzB0R,GAAcM,EAAW,uCACvC9N,EAAoB8N,EAApB9N,KAAMpC,EAAckQ,EAAdlQ,GAAIN,EAAUwQ,EAAVxQ,MACVtB,EAAaF,EAAbE,SAER,OAAQgE,GACN,KAAK/E,EACH,OAAO,2BACFa,GADL,IAEEE,SAAS,2BAAMA,GAAP,kBAAkB4B,GAAM5B,EAAS4B,IAAO,GAAK,MAEzD,KAAK1C,EACH,OAAO,2BACFY,GADL,IAEEE,SAAS,2BACJA,GADG,kBAEL4B,EAAK5B,EAAS4B,GAAM,GAAK5B,EAAS4B,IAAO,GAAK,EAAI,MAGzD,KAAKzC,EACH,OAAO,2BAAKW,GAAZ,IAAmBE,SAAS,2BAAMA,GAAP,kBAAkB4B,EAAK,MACpD,KAAKnC,EAAaC,EAChB,OAAO,2BAAKI,GAAZ,IAAmBU,SAAS,EAAMc,MAAO,OAC3C,KAAK7B,EAAaE,EAChB,OAAO,2BAAKG,GAAZ,IAAmBU,SAAS,EAAOE,QAAQ,EAAMV,SAAU,KAC7D,KAAKP,EAAaG,EAChB,OAAO,2BAAKE,GAAZ,IAAmBU,SAAS,EAAOE,QAAQ,EAAOY,UACpD,QACE,OAAOxB,IO9BXC,YLGa,WAAmC,IAAlCD,EAAiC,uDAAzB0R,GAAcM,EAAW,uCACvC9N,EAA8C8N,EAA9C9N,KAAMnD,EAAwCiR,EAAxCjR,aAAckR,EAA0BD,EAA1BC,SAAUb,EAAgBY,EAAhBZ,KAAM5P,EAAUwQ,EAAVxQ,MAE5C,OAAQ0C,GACN,KAAK3E,EAAmBK,EACtB,OAAO,2BACFI,GADL,IAEEU,SAAS,EACTc,MAAO,OAEX,KAAKjC,EAAmBM,EACtB,OAAO,2BACFG,GADL,IAEEE,SAAUyR,GAASP,GACnB1Q,SAAS,EACTE,QAAQ,IAEZ,KAAKrB,EAAmBO,EACtB,OAAO,2BACFE,GADL,IAEEU,SAAS,EACTE,QAAQ,EACRY,UAEJ,KAAKlC,EACH,OAAOwS,aAAQ9R,GAAO,SAAC+R,GACrBA,EAAM7R,SAASa,GAAcT,QAAQuK,KAAKoH,MAE9C,QACE,OAAOjS,IK/BXI,SJJa,eAACJ,EAAD,uDAAS0R,GAAcM,EAAvB,8CACbF,aAAQ9R,GAAO,SAAC+R,GAAW,IACjB7N,EAAoC8N,EAApC9N,KAAMnD,EAA8BiR,EAA9BjR,aAAcqQ,EAAgBY,EAAhBZ,KAAM5P,EAAUwQ,EAAVxQ,MAElC,OAAQ0C,GACN,KAAK1E,EAAgBI,EACnBmS,EAAMrR,QAAQK,IAAgB,EAC9B,MAEF,KAAKvB,EAAgBK,EACnBkS,EAAMrR,QAAQK,IAAgB,EAC9BgR,EAAMnR,OAAOG,IAAgB,EAC7BgR,EAAMvQ,MAAQ,KACduQ,EAAM7R,SAAN,2BAAsB6R,EAAM7R,UAAayR,GAASP,IAClD,MAEF,KAAK5R,EAAgBM,EACnBiS,EAAMrR,QAAQK,IAAgB,EAC9BgR,EAAMnR,OAAOG,IAAgB,EAC7BgR,EAAMvQ,MAAQA,EACd,MAEF,QACE,YIlBNlB,WACAc,WCLImR,GAAWC,2BACfC,KACAC,aAAiBR,KTNJ,SAACS,GAAD,OAAW,SAACC,GAAD,8CAAU,WAAOZ,GAAP,2BAAArH,EAAA,yDAC7BqH,EAAO3N,QADsB,yCACNuO,EAAKZ,IADC,cAG1B3N,EAAqC2N,EAArC3N,QAASH,EAA4B8N,EAA5B9N,KAAM0G,EAAsBoH,EAAtBpH,SAAazI,EAHF,aAGW6P,EAHX,+BAIlCY,EAAK,2BAAKzQ,GAAN,IAAY+B,KAAMA,EAAOtE,KAJK,SAO1B+P,EAAS/E,EAAWuG,GAAiBvG,GAAY,GAPvB,SASdiI,MAAMxO,EAASsL,GATD,cAS1BmD,EAT0B,iBAUbA,EAAIC,OAVS,WAU1B3B,EAV0B,OAY3B0B,EAAIE,GAZuB,uBAYb5B,EAZa,QAchCwB,EAAK,2BAAKzQ,GAAN,IAAY+B,KAAMA,EAAOrE,EAASuR,UAdN,wDAgBhC6B,QAAQC,IAAR,MACMN,EAAK,2BAAKzQ,GAAN,IAAY+B,KAAMA,EAAOpE,EAAS0B,MAAK,QAjBjB,0DAAV,0DUNX,SAACmR,GAAD,OAAW,SAACC,GAAD,OAAU,SAACZ,GACnC,IAAKA,EAAOzE,WAAY,OAAOqF,EAAKZ,GADU,IAGtCzE,EAAwByE,EAAxBzE,WAAepL,EAHuB,aAGd6P,EAHc,gBAI9CY,EAAK,2BACAzQ,GACAoL,EAAWhL,QAAO,SAACC,EAAKyC,GAAN,mBAAC,eAAmBzC,GAApB,kBAA0ByC,EAAMkO,mBAAW,WCRrD,SAACR,GAAD,OAAW,SAACC,GAAD,OAAU,SAACZ,GAGnCY,EAAKZ,QFiBQoB,0BAAYC,GAASC,+BAAoBf,KGPxDgB,OAAOZ,MAAQA,GAEfa,IAASC,OACP,cAAC,IAAD,CAAUd,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAiBT,QAASA,GAA1B,SACE,cAACzJ,GAAD,UACE,cAAC,GAAD,UAINiL,SAASC,eAAe,W","file":"static/js/main.f8756cb3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"basketItem\":\"basket-item_basketItem__Ei069\",\"counter\":\"basket-item_counter__3ae4-\",\"count\":\"basket-item_count__1PMoO\",\"price\":\"basket-item_price__hwmVy\",\"button\":\"basket-item_button__wPafo\",\"name\":\"basket-item_name__3ZEsE\",\"info\":\"basket-item_info__8g5h5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"product_product__3kfjq\",\"content\":\"product_content__3SJnw\",\"title\":\"product_title__3Wk4c\",\"description\":\"product_description__1l8Ij\",\"price\":\"product_price__2AtTn\",\"counter\":\"product_counter__234_5\",\"count\":\"product_count__3rWw_\",\"buttons\":\"product_buttons__1d8XO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewForm\":\"review-form_reviewForm__m1lEM\",\"reviewFormItem\":\"review-form_reviewFormItem__ZWkl1\",\"rateWrap\":\"review-form_rateWrap__xFtWF\",\"addReviewTitle\":\"review-form_addReviewTitle__Cx8mn\",\"message\":\"review-form_message__3m5LZ\",\"publish\":\"review-form_publish__hWPD6\",\"submitButton\":\"review-form_submitButton__2NfSL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"basket\":\"basket_basket__1xrL0\",\"hr\":\"basket_hr__20D1o\",\"loading\":\"basket_loading__2M6q_\",\"title\":\"basket_title__1NOhF\",\"button\":\"basket_button__2fmr9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__3_GL1\",\"primary\":\"button_primary__17m96\",\"secondary\":\"button_secondary__3v91q\",\"small\":\"button_small__14mQu\",\"block\":\"button_block__yiIqr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"review\":\"review_review__3NLiZ\",\"content\":\"review_content__tNRaI\",\"name\":\"review_name__2_t_D\",\"comment\":\"review_comment__1XcdB\",\"rate\":\"review_rate__3UeVh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"banner\":\"banner_banner__-R6DW\",\"img\":\"banner_img__39USH\",\"caption\":\"banner_caption__1Rp9z\",\"heading\":\"banner_heading__3MvRh\",\"description\":\"banner_description__1lbZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"tabs_tabs__3hOO2\",\"tab\":\"tabs_tab__xx9z8\",\"active\":\"tabs_active__3IcAw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__31U88\",\"bounce1\":\"loader_bounce1__3tnG1\",\"bounce2\":\"loader_bounce2__31li3\",\"sk-bounce\":\"loader_sk-bounce__LRB5V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"star\":\"rate_star__2lA_N\",\"checked\":\"rate_checked__aRwx4\",\"clickable\":\"rate_clickable__7OGYH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switcher\":\"currency-switcher_switcher__3xoG1\",\"switcherBtn\":\"currency-switcher_switcherBtn__2Bs0p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"order-error_page__2e1xU\",\"actions\":\"order-error_actions__1Lvpr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"menu_menu__2lX_i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviews\":\"reviews_reviews__n9n4q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"reviews-animation_enter__1O-kf\",\"enterActive\":\"reviews-animation_enterActive__3DPD1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__v9FKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"order-success_page__zBJrG\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './tabs.module.css';\n\nconst Tabs = ({ tabs }) => (\n  <div className={styles.tabs}>\n    {tabs.map(({ title, to }) => (\n      <NavLink\n        to={to}\n        key={title}\n        className={styles.tab}\n        activeClassName={styles.active}\n      >\n        {title}\n      </NavLink>\n    ))}\n  </div>\n);\n\nTabs.propTypes = {\n  tabs: PropTypes.arrayOf(\n    PropTypes.shape({\n      to: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nexport default Tabs;\n","export const INCREMENT = 'INCREMENT';\nexport const DECREMENT = 'DECREMENT';\nexport const REMOVE = 'REMOVE';\nexport const ADD_REVIEW = 'ADD_REVIEW';\n\nexport const LOAD_RESTAURANTS = 'LOAD_RESTAURANTS';\nexport const LOAD_PRODUCTS = 'LOAD_PRODUCTS';\nexport const LOAD_REVIEWS = 'LOAD_REVIEWS';\nexport const LOAD_USERS = 'LOAD_USERS';\nexport const MAKE_ORDER = 'MAKE_ORDER';\n\nexport const REQUEST = '_REQUEST';\nexport const SUCCESS = '_SUCCESS';\nexport const FAILURE = '_FAILURE';\n","import { createSelector } from 'reselect';\n\nconst restaurantsSelector = (state) => state.restaurants.entities;\nconst productsSelector = (state) => state.products.entities;\nconst reviewsSelector = (state) => state.reviews.entities;\nconst usersSelector = (state) => state.users.entities;\nconst orderSelector = (state) => state.order.entities;\n\nexport const restaurantsLoadingSelector = (state) => state.restaurants.loading;\nexport const restaurantsLoadedSelector = (state) => state.restaurants.loaded;\n\nexport const productsLoadingSelector = (state, props) =>\n  state.products.loading[props.restaurantId];\nexport const productsLoadedSelector = (state, props) =>\n  state.products.loaded[props.restaurantId];\n\nexport const reviewsLoadingSelector = (state, props) =>\n  state.reviews.loading[props.restaurantId];\nexport const reviewsLoadedSelector = (state, props) =>\n  state.reviews.loaded[props.restaurantId];\n\nexport const usersLoadingSelector = (state) => state.users.loading;\nexport const usersLoadedSelector = (state) => state.users.loaded;\n\nexport const orderLoadingSelector = (state) => state.order.loading;\nexport const orderErrorSelector = (state) => state.order.error;\n\nexport const restaurantsListSelector = createSelector(\n  restaurantsSelector,\n  Object.values\n);\n\nexport const restaurantSelector = (state, { id }) =>\n  restaurantsSelector(state)[id];\nexport const productSelector = (state, { id }) => productsSelector(state)[id];\nexport const reviewSelector = (state, { id }) => reviewsSelector(state)[id];\nexport const amountSelector = (state, { id }) => orderSelector(state)[id] || 0;\n\nconst restaurantsIdsByProductsSelector = createSelector(\n  restaurantsListSelector,\n  (restaurants) =>\n    restaurants\n      .flatMap((rest) =>\n        rest.menu.map((productId) => ({ productId, restId: rest.id }))\n      )\n      .reduce(\n        (acc, { productId, restId }) => ({ ...acc, [productId]: restId }),\n        {}\n      )\n);\n\nexport const orderProductsSelector = createSelector(\n  productsSelector,\n  orderSelector,\n  restaurantsIdsByProductsSelector,\n  (products, order, restaurantsIds) =>\n    Object.keys(order)\n      .filter((productId) => order[productId] > 0)\n      .map((productId) => products[productId])\n      .map((product) => ({\n        product,\n        amount: order[product.id],\n        subtotal: order[product.id] * product.price,\n        restaurantId: restaurantsIds[product.id],\n      }))\n);\n\nexport const totalSelector = createSelector(\n  orderProductsSelector,\n  (orderProducts) =>\n    orderProducts.reduce((acc, { subtotal }) => acc + subtotal, 0)\n);\n\nexport const reviewWitUserSelector = createSelector(\n  reviewSelector,\n  usersSelector,\n  (review, users) => ({\n    ...review,\n    user: users[review.userId]?.name,\n  })\n);\n\nexport const averageRatingSelector = createSelector(\n  reviewsSelector,\n  restaurantSelector,\n  (reviews, restaurant) => {\n    const ratings = restaurant.reviews.map((id) => reviews[id]?.rating || 0);\n    return Math.round(\n      ratings.reduce((acc, rating) => acc + rating, 0) / ratings.length\n    );\n  }\n);\n\nexport const orderDataSelector = createSelector(orderSelector, (order) =>\n  Object.entries(order).map(([id, amount]) => ({ id, amount }))\n);\n","import { replace, push } from 'connected-react-router';\nimport {\n  DECREMENT,\n  INCREMENT,\n  REMOVE,\n  ADD_REVIEW,\n  LOAD_RESTAURANTS,\n  LOAD_PRODUCTS,\n  LOAD_REVIEWS,\n  LOAD_USERS,\n  MAKE_ORDER,\n} from './constants';\n\nimport {\n  usersLoadingSelector,\n  usersLoadedSelector,\n  reviewsLoadingSelector,\n  reviewsLoadedSelector,\n  orderDataSelector,\n} from './selectors';\n\nexport const increment = (id) => ({ type: INCREMENT, id });\nexport const decrement = (id) => ({ type: DECREMENT, id });\nexport const remove = (id) => ({ type: REMOVE, id });\n\nexport const addReview = (review, restaurantId) => ({\n  type: ADD_REVIEW,\n  review,\n  restaurantId,\n  generateId: ['reviewId', 'userId'],\n});\n\nexport const loadRestaurants = () => ({\n  type: LOAD_RESTAURANTS,\n  CallAPI: '/api/restaurants',\n});\n\nexport const loadProducts = (restaurantId) => ({\n  type: LOAD_PRODUCTS,\n  CallAPI: `/api/products?id=${restaurantId}`,\n  restaurantId,\n});\n\nconst _loadReviews = (restaurantId) => ({\n  type: LOAD_REVIEWS,\n  CallAPI: `/api/reviews?id=${restaurantId}`,\n  restaurantId,\n});\n\nconst _loadUsers = () => ({ type: LOAD_USERS, CallAPI: '/api/users' });\n\nexport const loadReviews = (restaurantId) => async (dispatch, getState) => {\n  const state = getState();\n  const loading = reviewsLoadingSelector(state, { restaurantId });\n  const loaded = reviewsLoadedSelector(state, { restaurantId });\n\n  if (loading || loaded) return;\n\n  try {\n    await dispatch(_loadReviews(restaurantId));\n  } catch {\n    dispatch(replace('/error'));\n  }\n};\n\nexport const loadUsers = () => async (dispatch, getState) => {\n  const state = getState();\n  const loading = usersLoadingSelector(state);\n  const loaded = usersLoadedSelector(state);\n\n  if (loading || loaded) return;\n\n  dispatch(_loadUsers());\n};\n\nexport const makeOrder = () => async (dispatch, getState) => {\n  const state = getState();\n  const postData = orderDataSelector(state);\n\n  try {\n    await dispatch({ type: MAKE_ORDER, CallAPI: '/api/order', postData });\n    dispatch(push('/order-success'));\n  } catch {\n    dispatch(push('/order-error'));\n  }\n};\n","import React from 'react';\nimport styles from './loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={styles.loader}>\n      <div className={styles.bounce1} />\n      <div className={styles.bounce2} />\n    </div>\n  );\n}\n\nexport default Loader;\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: 12,\n    viewBox: \"0 0 18 17\",\n    width: 14,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m.92445 10.2v-3.21h6.12v-6.390001h3.90005v6.390001h6.12v3.21h-6.12v6.48h-3.90005v-6.48z\",\n    fill: \"#fff\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.51894487.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMinus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: 4,\n    viewBox: \"0 0 10 4\",\n    width: 10,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m.764347 3.59v-3.39h8.670003v3.39z\",\n    fill: \"#fff\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.d7a76cd0.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"10px\",\n    height: \"10px\",\n    viewBox: \"0 0 348.333 348.334\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85 c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563 c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85 l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554 L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z\",\n    fill: \"#fff\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.732828ea.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport cn from 'classnames';\nimport styles from './button.module.css';\n\nimport { ReactComponent as PlusIcon } from '../../icons/plus.svg';\nimport { ReactComponent as MinusIcon } from '../../icons/minus.svg';\nimport { ReactComponent as DeleteIcon } from '../../icons/delete.svg';\n\nconst icons = {\n  plus: PlusIcon,\n  minus: MinusIcon,\n  delete: DeleteIcon,\n};\n\nconst Button = ({\n  icon,\n  primary = false,\n  secondary = false,\n  small = false,\n  block = false,\n  children,\n  ...props\n}) => {\n  const Icon = icons[icon];\n\n  return (\n    <button\n      className={cn(styles.button, {\n        [styles.primary]: primary,\n        [styles.secondary]: secondary,\n        [styles.small]: small,\n        [styles.block]: block,\n      })}\n      {...props}\n    >\n      {Icon && <Icon />}\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { createContext, useState, useContext } from 'react';\n\nconst moneyContext = createContext();\n\nconst currenciesMap = {\n  USD: { label: 'USD', rate: 1, sign: '$' },\n  EUR: { label: 'EUR', rate: 1 / 1.2, sign: '€' },\n  RUB: { label: 'RUB', rate: 77, sign: '₽' },\n  UAH: { label: 'UAH', rate: 28, sign: '₴' },\n};\n\nconst currencies = Object.entries(currenciesMap).map(([key, { label }]) => ({\n  key,\n  label,\n}));\n\nexport function MoneyProvider({ children }) {\n  const [currency, setCurrency] = useState('USD');\n  const { rate, sign } = currenciesMap[currency];\n  const m = (amount) => `${(rate * amount).toFixed(2)} ${sign}`;\n\n  return (\n    <moneyContext.Provider value={{ currencies, currency, setCurrency, m }}>\n      {children}\n    </moneyContext.Provider>\n  );\n}\n\nexport function Money({ value }) {\n  const { m } = useContext(moneyContext);\n  return m(value);\n}\n\nexport default moneyContext;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport styles from './product.module.css';\n\nimport { increment, decrement } from '../../redux/actions';\n\nimport Button from '../button';\nimport { amountSelector, productSelector } from '../../redux/selectors';\nimport { Money } from '../../contexts/money';\n\nconst Product = ({ product, amount, increment, decrement }) => {\n  if (!product) return null;\n\n  return (\n    <div className={styles.product} data-id=\"product\">\n      <div className={styles.content}>\n        <div>\n          <h4 className={styles.title}>{product.name}</h4>\n          <p className={styles.description}>{product.ingredients.join(', ')}</p>\n          <div className={styles.price}>\n            <Money value={product.price} />\n          </div>\n        </div>\n        <div>\n          <div className={styles.counter}>\n            <div className={styles.count} data-id=\"product-amount\">\n              {amount}\n            </div>\n            <div className={styles.buttons}>\n              <Button onClick={decrement} icon=\"minus\" />\n              <Button onClick={increment} icon=\"plus\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nProduct.propTypes = {\n  product: PropTypes.shape({\n    name: PropTypes.string,\n    price: PropTypes.number,\n    ingredients: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n  }),\n  // from connect\n  amount: PropTypes.number,\n  increment: PropTypes.func,\n  decrement: PropTypes.func,\n};\n\nconst mapStateToProps = (state, props) => ({\n  amount: amountSelector(state, props),\n  product: productSelector(state, props),\n});\n\nconst mapDispatchToProps = (dispatch, props) => ({\n  increment: () => dispatch(increment(props.id)),\n  decrement: () => dispatch(decrement(props.id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n","import moneyContext from '../contexts/money';\nimport { useContext } from 'react';\n\nexport function useMoney() {\n  const { m } = useContext(moneyContext);\n  return m;\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport { increment, decrement, remove } from '../../../redux/actions';\nimport Button from '../../button';\nimport styles from './basket-item.module.css';\n\nimport { useMoney } from '../../../hooks/use-money';\n\nfunction BasketItem({\n  product,\n  amount,\n  subtotal,\n  restaurantId,\n  increment,\n  decrement,\n  remove,\n}) {\n  const m = useMoney();\n  return (\n    <div className={styles.basketItem}>\n      <div className={styles.name}>\n        <Link to={`/restaurants/${restaurantId}/menu`}>{product.name}</Link>\n      </div>\n      <div className={styles.info}>\n        <div className={styles.counter}>\n          <Button onClick={decrement} icon=\"minus\" secondary small />\n          <span className={styles.count}>{amount}</span>\n          <Button onClick={increment} icon=\"plus\" secondary small />\n        </div>\n        <p className={cn(styles.count, styles.price)}>{m(subtotal)}</p>\n        <Button onClick={remove} icon=\"delete\" secondary small />\n      </div>\n    </div>\n  );\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  increment: () => dispatch(increment(ownProps.product.id)),\n  decrement: () => dispatch(decrement(ownProps.product.id)),\n  remove: () => dispatch(remove(ownProps.product.id)),\n});\n\nexport default connect(null, mapDispatchToProps)(BasketItem);\n","import { createContext } from 'react';\n\nexport const userContext = createContext({\n  name: 'Default user',\n  setName: () => {},\n});\n\nexport const UserProvider = userContext.Provider;\nexport const UserConsumer = userContext.Consumer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nimport './basket.css';\nimport styles from './basket.module.css';\nimport itemStyles from './basket-item/basket-item.module.css';\nimport BasketItem from './basket-item';\nimport Button from '../button';\nimport Loader from '../loader';\nimport {\n  orderProductsSelector,\n  totalSelector,\n  orderLoadingSelector,\n} from '../../redux/selectors';\nimport { makeOrder } from '../../redux/actions';\n\nimport { UserConsumer } from '../../contexts/user-context';\nimport { useMoney } from '../../hooks/use-money';\n\nfunction Basket({\n  title = 'Basket',\n  total,\n  orderProducts,\n  makeOrder,\n  loading,\n}) {\n  const m = useMoney();\n\n  if (!total) {\n    return (\n      <div className={styles.basket}>\n        <h4 className={styles.title}>Select a meal from the list</h4>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.basket}>\n      {loading && (\n        <div className={styles.loading}>\n          <Loader />\n        </div>\n      )}\n      <h4 className={styles.title}>\n        <UserConsumer>{({ name }) => `${name}'s ${title}`}</UserConsumer>\n      </h4>\n      <TransitionGroup>\n        {orderProducts.map(({ product, amount, subtotal, restaurantId }) => (\n          <CSSTransition key={product.id} timeout={300} classNames=\"basket\">\n            <BasketItem\n              product={product}\n              amount={amount}\n              subtotal={subtotal}\n              restaurantId={restaurantId}\n            />\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n      <hr className={styles.hr} />\n      <div className={itemStyles.basketItem}>\n        <div className={itemStyles.name}>\n          <p>Total</p>\n        </div>\n        <div className={itemStyles.info}>\n          <p>{m(total)}</p>\n        </div>\n      </div>\n      <Switch>\n        <Route path=\"/checkout\">\n          <Button primary block onClick={makeOrder}>\n            make order\n          </Button>\n        </Route>\n        <Route>\n          <Link to=\"/checkout\">\n            <Button primary block>\n              go to checkout\n            </Button>\n          </Link>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    total: totalSelector(state),\n    orderProducts: orderProductsSelector(state),\n    loading: orderLoadingSelector(state),\n  };\n};\n\nexport default connect(mapStateToProps, { makeOrder })(Basket);\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 12.8395L3.04225 16L4.35681 10.0741L0 6.08395L5.74648 5.57037L8 0L10.2535 5.57037L16 6.08395L11.6432 10.0741L12.9577 16L8 12.8395Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.152e560e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { loadProducts } from '../../redux/actions';\nimport {\n  productsLoadingSelector,\n  productsLoadedSelector,\n} from '../../redux/selectors';\n\nimport Loader from '../loader';\nimport Product from '../product';\nimport Basket from '../basket';\n\nimport styles from './menu.module.css';\n\nclass Menu extends React.Component {\n  static propTypes = {\n    menu: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n  };\n\n  state = { error: null };\n\n  loadProductsIfNeeded = () => {\n    const { loadProducts, restaurantId, loading, loaded } = this.props;\n    if (!loading && !loaded) {\n      loadProducts(restaurantId);\n    }\n  };\n\n  componentDidMount() {\n    this.loadProductsIfNeeded();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.restaurantId !== this.props.restaurantId) {\n      this.loadProductsIfNeeded();\n    }\n  }\n\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  render() {\n    const { menu, loading } = this.props;\n\n    if (loading) {\n      return <Loader />;\n    }\n\n    if (this.state.error) {\n      return <p>Сейчас меню этого ресторана недоступно :(</p>;\n    }\n\n    return (\n      <div className={styles.menu}>\n        <div>\n          {menu.map((id) => (\n            <Product key={id} id={id} />\n          ))}\n        </div>\n        <div>\n          <Basket />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  loading: productsLoadingSelector(state, props),\n  loaded: productsLoadedSelector(state, props),\n});\n\nconst mapDispatchToProps = { loadProducts };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport { ReactComponent as Star } from '../../icons/star.svg';\n\nimport styles from './rate.module.css';\n\nconst Rate = ({ value, onChange }) => (\n  <div>\n    {[...Array(5)].map((_, i) => (\n      <Star\n        key={i}\n        data-id={i <= value - 1 ? 'full-star' : 'empty-star'}\n        className={cn(styles.star, {\n          [styles.checked]: i <= value - 1,\n          [styles.clickable]: !!onChange,\n        })}\n        onClick={onChange ? () => onChange(i + 1) : undefined}\n      />\n    ))}\n  </div>\n);\n\nRate.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nexport default Rate;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport Rate from '../../rate';\nimport styles from './review.module.css';\nimport { reviewWitUserSelector } from '../../../redux/selectors';\n\nconst Review = ({ user, text, rating }) => (\n  <div className={styles.review} data-id=\"review\">\n    <div className={styles.content}>\n      <div>\n        <h4 className={styles.name} data-id=\"review-user\">\n          {user}\n        </h4>\n        <p className={styles.comment} data-id=\"review-text\">\n          {text}\n        </p>\n      </div>\n      <div className={styles.rate}>\n        <Rate value={rating} />\n      </div>\n    </div>\n  </div>\n);\n\nReview.propTypes = {\n  user: PropTypes.string,\n  text: PropTypes.string,\n  rating: PropTypes.number.isRequired,\n};\n\nReview.defaultProps = {\n  user: 'Anonymous',\n};\n\n// const mapStateToProps = (state, props) => ({\n//   ...reviewWitUserSelector(state, props),\n// });\n\n// const mapStateToProps = (state, props) => reviewWitUserSelector(state, props);\n\nconst mapStateToProps = reviewWitUserSelector;\n\nexport default connect(mapStateToProps)(Review);\n","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _ellipse, _ellipse2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 115,\n    height: 18,\n    viewBox: \"0 0 115 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M60.2043 3.47599V0.761993H49.4633V17H52.4763V10.123H114.261V7.52399H52.4763V3.47599H60.2043Z\",\n    fill: \"white\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M97.3408 0V16.238H103.482C108.266 16.238 111.095 13.455 111.095 8.257C111.095 2.438 107.507 0 103.666 0H97.3408ZM100.377 2.737H102.884C105.897 2.737 107.875 4.255 107.875 8.257C107.875 12.834 105.782 13.501 102.263 13.501H100.377V2.737Z\",\n    fill: \"white\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M77.9976 8.556C77.9976 13.11 80.9416 17.066 85.7256 17.066C91.5676 17.066 93.5686 12.121 93.5686 8.441C93.5686 4.048 90.7396 0 85.7946 0C81.1026 0 77.9976 3.795 77.9976 8.556ZM81.1256 8.441C81.1256 4.876 83.1036 2.783 85.7716 2.783C88.9916 2.783 90.5096 5.796 90.5096 8.694C90.5096 12.374 88.2326 14.237 85.8176 14.237C82.3446 14.237 81.1256 10.971 81.1256 8.441Z\",\n    fill: \"#FFD25E\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M61.6893 8.556C61.6893 13.11 64.6333 17.066 69.4173 17.066C75.2593 17.066 77.2603 12.121 77.2603 8.441C77.2603 4.048 74.4313 0 69.4863 0C64.7943 0 61.6893 3.795 61.6893 8.556ZM64.8173 8.441C64.8173 4.876 66.7953 2.783 69.4633 2.783C72.6833 2.783 74.2013 5.796 74.2013 8.694C74.2013 12.374 71.9243 14.237 69.5093 14.237C66.0363 14.237 64.8173 10.971 64.8173 8.441Z\",\n    fill: \"#FFD25E\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.49 17L8.947 0.761993H5.497L0 17H3.266L4.209 13.826H10.304L11.247 17H14.49ZM9.499 11.158H5.014L7.268 3.68299L9.499 11.158Z\",\n    fill: \"white\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.2451 17V0.761993H27.2551C27.2781 1.12999 27.6231 12.216 27.6231 12.216L20.4241 0.761993H17.6871V17H20.6541C20.6541 16.701 20.4701 5.61499 20.4701 5.61499L27.5771 17H30.2451Z\",\n    fill: \"white\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.007 0.761993H42.603L39.061 7.47799L35.542 0.761993H32.092L37.52 10.583V17H40.533V10.583L46.007 0.761993Z\",\n    fill: \"white\"\n  })), _ellipse || (_ellipse = /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 69.5,\n    cy: 8.5,\n    rx: 5.5,\n    ry: 6.5,\n    fill: \"#FFD25D\"\n  })), _ellipse2 || (_ellipse2 = /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 85.5,\n    cy: 8.5,\n    rx: 5.5,\n    ry: 6.5,\n    fill: \"#FFD25D\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.65ad63c8.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useForm from '../../../hooks/use-form';\n\nimport Rate from '../../rate';\nimport styles from './review-form.module.css';\nimport { connect } from 'react-redux';\nimport Button from '../../button';\nimport { addReview } from '../../../redux/actions';\n\nconst INITIAL_VALUES = { name: '', text: '', rating: 3 };\n\nconst ReviewForm = ({ onSubmit }) => {\n  const { values, handlers, reset } = useForm(INITIAL_VALUES);\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n    onSubmit(values);\n    reset();\n  };\n\n  return (\n    <div className={styles.reviewForm}>\n      <h4 className={styles.addReviewTitle}>Leave your review</h4>\n      <form onSubmit={handleSubmit}>\n        <div className={styles.reviewFormItem}>\n          <input\n            placeholder=\"Your name\"\n            className={styles.message}\n            {...handlers.name}\n          />\n        </div>\n        <div className={styles.reviewFormItem}>\n          <textarea\n            placeholder=\"Your review\"\n            className={styles.message}\n            {...handlers.text}\n          />\n        </div>\n        <div className={styles.rateWrap}>\n          <span>Rating: </span>\n          <span>\n            <Rate {...handlers.rating} />\n          </span>\n        </div>\n        <div className={styles.publish}>\n          <Button primary block>\n            PUBLISH REVIEW\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nReviewForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch, props) => ({\n  onSubmit: (review) => dispatch(addReview(review, props.restaurantId)),\n});\n\nexport default connect(null, mapDispatchToProps)(ReviewForm);\n","import { useState } from 'react';\n\nexport default function useForm(initialValues = {}) {\n  const [values, setValues] = useState(initialValues);\n\n  const setValue = (key, value) => setValues({ ...values, [key]: value });\n\n  const onChange = (key) => (ev) =>\n    setValue(key, ev.target ? ev.target.value : ev);\n\n  return {\n    values,\n    reset: () => setValues(initialValues),\n    handlers: Object.keys(values).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: { value: values[key], onChange: onChange(key) },\n      }),\n      {}\n    ),\n  };\n}\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport PropTypes from 'prop-types';\nimport Review from './review';\nimport ReviewForm from './review-form';\nimport styles from './reviews.module.css';\nimport animationStyles from './reviews-animation.module.css';\n\nimport { loadReviews, loadUsers } from '../../redux/actions';\nimport {\n  reviewsLoadedSelector,\n  usersLoadedSelector,\n} from '../../redux/selectors';\n\nimport Loader from '../loader';\n\nconst Reviews = ({\n  reviews,\n  restaurantId,\n  loadReviews,\n  loadUsers,\n  usersLoaded,\n  reviewsLoaded,\n}) => {\n  useEffect(() => {\n    loadUsers();\n    loadReviews(restaurantId);\n  }, [loadUsers, loadReviews, restaurantId]);\n\n  if (!usersLoaded || !reviewsLoaded) return <Loader />;\n\n  return (\n    <div className={styles.reviews}>\n      <TransitionGroup>\n        {reviews.map((id) => (\n          <CSSTransition key={id} timeout={500} classNames={animationStyles}>\n            <Review id={id} />\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n      <ReviewForm restaurantId={restaurantId} />\n    </div>\n  );\n};\n\nReviews.propTypes = {\n  restaurantId: PropTypes.string,\n  reviews: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n};\n\nconst mapStateToProps = (state, props) => ({\n  reviewsLoaded: reviewsLoadedSelector(state, props),\n  usersLoaded: usersLoadedSelector(state, props),\n});\n\nconst mapDispatchToProps = { loadReviews, loadUsers };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Reviews);\n","export default __webpack_public_path__ + \"static/media/banner.40e0021b.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './banner.module.css';\n\nimport banner from './banner.jpg';\n\nconst Banner = ({ heading, description, children }) => (\n  <div className={styles.banner}>\n    <img src={banner} className={styles.img} alt=\"banner\" />\n    <div className={styles.caption}>\n      <h2 className={styles.heading}>{heading}</h2>\n      <p className={styles.description}>{description}</p>\n      <div>{children}</div>\n    </div>\n  </div>\n);\n\nBanner.propTypes = {\n  heading: PropTypes.string,\n  description: PropTypes.string,\n};\n\nexport default Banner;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Menu from '../menu';\nimport Reviews from '../reviews';\nimport Banner from '../banner';\nimport Rate from '../rate';\nimport Tabs from '../tabs';\nimport {\n  averageRatingSelector,\n  restaurantSelector,\n} from '../../redux/selectors';\n\nconst Restaurant = ({ restaurant, averageRating, match }) => {\n  const { id, name, menu, reviews } = restaurant;\n\n  const tabs = [\n    { title: 'Menu', to: `/restaurants/${id}/menu` },\n    { title: 'Reviews', to: `/restaurants/${id}/reviews` },\n  ];\n\n  return (\n    <div>\n      <Banner heading={name}>\n        {!!averageRating && <Rate value={averageRating} />}\n      </Banner>\n      <Tabs tabs={tabs} />\n      <Switch>\n        <Route path=\"/restaurants/:restId/menu\">\n          <Menu menu={menu} restaurantId={id} />\n        </Route>\n        <Route path=\"/restaurants/:restId/reviews\">\n          <Reviews reviews={reviews} restaurantId={id} />\n        </Route>\n        <Redirect to=\"/restaurants/:restId/menu\" />\n      </Switch>\n    </div>\n  );\n};\n\nRestaurant.propTypes = {\n  restaurant: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    menu: PropTypes.array,\n    reviews: PropTypes.array,\n  }).isRequired,\n  averageRating: PropTypes.number,\n};\n\nconst mapStateToProps = (state, props) => ({\n  restaurant: restaurantSelector(state, props),\n  averageRating: averageRatingSelector(state, props),\n});\n\nexport default connect(mapStateToProps)(Restaurant);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Redirect, Route, Switch, useRouteMatch } from 'react-router';\nimport Tabs from '../tabs';\nimport Restaurant from '../restaurant';\nimport Loader from '../loader';\nimport {\n  restaurantsListSelector,\n  restaurantsLoadedSelector,\n  restaurantsLoadingSelector,\n} from '../../redux/selectors';\nimport { loadRestaurants } from '../../redux/actions';\n\nconst Restaurants = ({ restaurants, loading, loaded, loadRestaurants }) => {\n  useEffect(() => {\n    if (!loading && !loaded) loadRestaurants();\n  }, [loadRestaurants, loading, loaded]);\n\n  const match = useRouteMatch('/restaurants/:restId/:tabId');\n  const tabId = match?.params.tabId || 'menu';\n\n  if (loading) return <Loader />;\n  if (!loaded) return 'No data :(';\n\n  const tabs = restaurants.map(({ id, name }) => ({\n    title: name,\n    to: `/restaurants/${id}/${tabId}`,\n  }));\n\n  return (\n    <div>\n      <Tabs tabs={tabs} />\n      <Switch>\n        <Route path=\"/restaurants/:restId\">\n          {({ match }) => <Restaurant id={match.params.restId} />}\n        </Route>\n        <Redirect to={`/restaurants/${restaurants[0].id}`} />;\n      </Switch>\n    </div>\n  );\n};\n\nRestaurants.propTypes = {\n  restaurants: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  restaurants: restaurantsListSelector(state),\n  loading: restaurantsLoadingSelector(state),\n  loaded: restaurantsLoadedSelector(state),\n});\n\nexport default connect(mapStateToProps, { loadRestaurants })(Restaurants);\n","import React, { useContext } from 'react';\n\nimport styles from './currency-switcher.module.css';\nimport moneyContext from '../../contexts/money';\n\nconst CurrencySwitcher = () => {\n  const { currency, currencies, setCurrency } = useContext(moneyContext);\n\n  const onChange = (e) => setCurrency(e.target.value);\n\n  return (\n    <fieldset className={styles.switcher}>\n      {currencies.map(({ key, label }) => (\n        <label key={key} className={styles.switcherBtn}>\n          <input\n            type=\"radio\"\n            value={key}\n            checked={key === currency}\n            onChange={onChange}\n          />\n          <span>{label}</span>\n        </label>\n      ))}\n    </fieldset>\n  );\n};\n\nexport default CurrencySwitcher;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { ReactComponent as Logo } from '../../icons/logo.svg';\nimport styles from './header.module.css';\n\nimport CurrencySwitcher from '../currency-switcher';\n\nconst Header = () => {\n  return (\n    <header className={styles.header}>\n      <Link to=\"/restaurants\">\n        <Logo />\n      </Link>\n      <CurrencySwitcher />\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nimport styles from './order-success.module.css';\n\nconst OrderSuccess = () => (\n  <h1 className={styles.page}>\n    Congratulations! Your order has been successfully created!\n  </h1>\n);\n\nexport default OrderSuccess;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport Button from '../button';\nimport { useMoney } from '../../hooks/use-money';\n\nimport { orderErrorSelector } from '../../redux/selectors';\n\nimport styles from './order-error.module.css';\n\nconst OrderError = ({ error }) => {\n  const m = useMoney();\n  const errorText = error?.replace(/\\$(\\d+)/gi, (_, t) => m(t));\n\n  return (\n    <h1 className={styles.page}>\n      <p>{errorText}</p>\n      <div className={styles.actions}>\n        <Link to=\"/checkout\">\n          <Button primary block>\n            back to checkout\n          </Button>\n        </Link>\n      </div>\n    </h1>\n  );\n};\n\nexport default connect((state) => ({\n  error: orderErrorSelector(state),\n}))(OrderError);\n","import React, { useState } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport Restaurants from '../restaurants';\nimport Header from '../header';\nimport Basket from '../basket';\nimport OrderSuccess from '../order-success';\nimport OrderError from '../order-error';\n\nimport { UserProvider } from '../../contexts/user-context';\n\nconst App = () => {\n  const [name, setName] = useState('Ivan');\n  return (\n    <div>\n      <UserProvider value={{ name, setName }}>\n        <Header />\n        <Switch>\n          <Redirect exact from=\"/\" to=\"/restaurants\" />\n          <Route path=\"/checkout\" component={Basket} />\n          <Route path=\"/restaurants\" component={Restaurants} />\n          <Route path=\"/order-success\" component={OrderSuccess} />\n          <Route path=\"/order-error\" component={OrderError} />\n          <Route path=\"/error\" component={() => <h1>Error Page!</h1>} />\n          <Route path=\"/\" component={() => <p>404 - not found :(</p>} />\n        </Switch>\n      </UserProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import { REQUEST, SUCCESS, FAILURE } from \"../constants\";\n\nconst createPostParams = (data) => ({\n  method: \"POST\",\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify(data),\n});\n\nexport default (store) => (next) => async (action) => {\n  if (!action.CallAPI) return next(action);\n\n  const { CallAPI, type, postData, ...rest } = action;\n  next({ ...rest, type: type + REQUEST });\n\n  try {\n    const params = postData ? createPostParams(postData) : {};\n\n    const res = await fetch(CallAPI, params);\n    const data = await res.json();\n\n    if (!res.ok) throw data;\n\n    next({ ...rest, type: type + SUCCESS, data });\n  } catch (error) {\n    console.log(error);\n    throw next({ ...rest, type: type + FAILURE, error });\n  }\n};\n","import {\n  DECREMENT,\n  INCREMENT,\n  REMOVE,\n  MAKE_ORDER,\n  REQUEST,\n  SUCCESS,\n  FAILURE,\n} from '../constants';\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  error: null,\n  entities: {},\n};\n\nexport default (state = initialState, action) => {\n  const { type, id, error } = action;\n  const { entities } = state;\n\n  switch (type) {\n    case INCREMENT:\n      return {\n        ...state,\n        entities: { ...entities, [id]: (entities[id] || 0) + 1 },\n      };\n    case DECREMENT:\n      return {\n        ...state,\n        entities: {\n          ...entities,\n          [id]: entities[id] > 0 ? (entities[id] || 0) - 1 : 0,\n        },\n      };\n    case REMOVE:\n      return { ...state, entities: { ...entities, [id]: 0 } };\n    case MAKE_ORDER + REQUEST:\n      return { ...state, loading: true, error: null };\n    case MAKE_ORDER + SUCCESS:\n      return { ...state, loading: false, loaded: true, entities: {} };\n    case MAKE_ORDER + FAILURE:\n      return { ...state, loading: false, loaded: false, error };\n    default:\n      return state;\n  }\n};\n","export const arrToMap = (arr) =>\n  arr.reduce((acc, item) => ({ ...acc, [item.id]: item }), {});\n","import produce from 'immer';\nimport {\n  ADD_REVIEW,\n  LOAD_RESTAURANTS,\n  REQUEST,\n  SUCCESS,\n  FAILURE,\n} from '../constants';\nimport { arrToMap } from '../utils';\n\nconst initialState = {\n  entities: {},\n  loading: false,\n  loaded: false,\n  error: null,\n};\n\nexport default (state = initialState, action) => {\n  const { type, restaurantId, reviewId, data, error } = action;\n\n  switch (type) {\n    case LOAD_RESTAURANTS + REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case LOAD_RESTAURANTS + SUCCESS:\n      return {\n        ...state,\n        entities: arrToMap(data),\n        loading: false,\n        loaded: true,\n      };\n    case LOAD_RESTAURANTS + FAILURE:\n      return {\n        ...state,\n        loading: false,\n        loaded: false,\n        error,\n      };\n    case ADD_REVIEW:\n      return produce(state, (draft) => {\n        draft.entities[restaurantId].reviews.push(reviewId);\n      });\n    default:\n      return state;\n  }\n};\n","import produce from 'immer';\nimport { arrToMap } from '../utils';\nimport { LOAD_PRODUCTS, REQUEST, SUCCESS, FAILURE } from '../constants';\n\nconst initialState = {\n  entities: {},\n  loading: {},\n  loaded: {},\n  error: null,\n};\n\nexport default (state = initialState, action) =>\n  produce(state, (draft) => {\n    const { type, restaurantId, data, error } = action;\n\n    switch (type) {\n      case LOAD_PRODUCTS + REQUEST: {\n        draft.loading[restaurantId] = true;\n        break;\n      }\n      case LOAD_PRODUCTS + SUCCESS: {\n        draft.loading[restaurantId] = false;\n        draft.loaded[restaurantId] = true;\n        draft.error = null;\n        draft.entities = { ...draft.entities, ...arrToMap(data) };\n        break;\n      }\n      case LOAD_PRODUCTS + FAILURE: {\n        draft.loading[restaurantId] = false;\n        draft.loaded[restaurantId] = false;\n        draft.error = error;\n        break;\n      }\n      default:\n        return;\n    }\n  });\n","import produce from 'immer';\nimport {\n  ADD_REVIEW,\n  REQUEST,\n  SUCCESS,\n  FAILURE,\n  LOAD_REVIEWS,\n} from '../constants';\nimport { arrToMap } from '../utils';\n\nconst initialState = {\n  entities: {},\n  loading: {},\n  loaded: {},\n  error: null,\n};\n\nexport default produce((draft = initialState, action) => {\n  const { type, review, reviewId, userId, restaurantId, data, error } = action;\n\n  switch (type) {\n    case LOAD_REVIEWS + REQUEST: {\n      draft.error = null;\n      draft.loading[restaurantId] = true;\n      break;\n    }\n    case LOAD_REVIEWS + SUCCESS: {\n      draft.loading[restaurantId] = false;\n      draft.loaded[restaurantId] = true;\n      draft.entities = { ...draft.entities, ...arrToMap(data) };\n      break;\n    }\n    case LOAD_REVIEWS + FAILURE: {\n      draft.loading[restaurantId] = false;\n      draft.loaded[restaurantId] = false;\n      draft.error = error;\n      break;\n    }\n    case ADD_REVIEW:\n      const { text, rating } = review;\n      draft.entities[reviewId] = { id: reviewId, userId, text, rating };\n      break;\n    default:\n      return draft;\n  }\n});\n","import produce from 'immer';\nimport {\n  ADD_REVIEW,\n  LOAD_USERS,\n  REQUEST,\n  SUCCESS,\n  FAILURE,\n} from '../constants';\nimport { arrToMap } from '../utils';\n\nconst initialState = {\n  entities: {},\n  loading: false,\n  loaded: false,\n  error: null,\n};\n\nexport default produce((draft = initialState, action) => {\n  const { type, review, userId, data, error } = action;\n\n  switch (type) {\n    case LOAD_USERS + REQUEST: {\n      draft.error = null;\n      draft.loading = true;\n      break;\n    }\n    case LOAD_USERS + SUCCESS: {\n      draft.loading = false;\n      draft.loaded = true;\n      draft.entities = { ...draft.entities, ...arrToMap(data) };\n      break;\n    }\n    case LOAD_USERS + FAILURE: {\n      draft.loading = false;\n      draft.loaded = false;\n      draft.error = error;\n      break;\n    }\n    case ADD_REVIEW:\n      const { name } = review;\n      draft.entities[userId] = { id: userId, name };\n      break;\n    default:\n      return draft;\n  }\n});\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\n\nimport order from './order';\nimport restaurants from './restaurants';\nimport products from './products';\nimport reviews from './reviews';\nimport users from './users';\n\nimport history from '../../history';\n\nexport default combineReducers({\n  router: connectRouter(history),\n  order,\n  restaurants,\n  products,\n  reviews,\n  users,\n});\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { routerMiddleware } from 'connected-react-router';\n\nimport logger from './middleware/logger';\nimport generateId from './middleware/generateId';\nimport api from './middleware/api';\n\nimport reducer from './reducer';\nimport history from '../history';\n\nconst enhancer = applyMiddleware(\n  thunk,\n  routerMiddleware(history),\n  api,\n  generateId,\n  logger\n);\n\nexport default createStore(reducer, composeWithDevTools(enhancer));\n","import { v4 as uuid } from 'uuid';\n\nexport default (store) => (next) => (action) => {\n  if (!action.generateId) return next(action);\n\n  const { generateId, ...rest } = action;\n  next({\n    ...rest,\n    ...generateId.reduce((acc, key) => ({ ...acc, [key]: uuid() }), {}),\n  });\n};\n","export default (store) => (next) => (action) => {\n  // console.log('before: ', store.getState());\n  // console.log('action: ', action);\n  next(action);\n  // console.log('after: ', store.getState());\n};\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { ConnectedRouter } from 'connected-react-router';\nimport './index.css';\n\nimport App from './components/app';\nimport { MoneyProvider } from './contexts/money';\n\nimport store from './redux/store';\nimport history from './history';\n\n// DEV ONLY!!!\nwindow.store = store;\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <MoneyProvider>\n        <App />\n      </MoneyProvider>\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}